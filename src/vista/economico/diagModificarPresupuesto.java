/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * diagAltaPresupuesto.java
 *
 * Created on 13/08/2012, 08:26:54
 */
package vista.economico;

import controladores.DocumentoJpaController;
import entidades.Documento;
import entidades.economico.BienConsumo;
import entidades.economico.BienNoPersonal;
import entidades.economico.BienUso;
import entidades.economico.GastoViaje;
import entidades.economico.ModificacionPresupuesto;
import entidades.economico.Presupuesto;
import entidades.operaciones.Operacion;
import entidades.proyecto.Proyecto;
import entidades.usuario.Usuario;
import facade.ConexionFacade;
import facade.OperacionFacade;
import includes.Comunes;
import java.io.File;
import java.io.FileInputStream;
import java.io.InputStream;
import java.math.BigDecimal;
import java.util.AbstractList;
import java.util.ArrayList;
import java.util.List;
import javax.swing.JOptionPane;
import org.apache.xerces.parsers.IntegratedParserConfiguration;
import java.util.Collections;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.persistence.Persistence;
import javax.swing.JFileChooser;

/**
 *
 * @author walter
 */
public class diagModificarPresupuesto extends javax.swing.JDialog {

    //Proyecto proyecto = new Proyecto();
    private Usuario usuario;
    private int anioSeleccionado;
    Presupuesto presupuestoElegido = new Presupuesto();

    public Presupuesto getPresupuestoElegido() {
        return presupuestoElegido;
    }

    public void setPresupuestoElegido(Presupuesto presupuestoElegido) {
        this.presupuestoElegido = presupuestoElegido;
    }   

    public int getAnioSeleccionado() {
        return anioSeleccionado;
    }

    public void setAnioSeleccionado(int anioSeleccionado) {
        this.anioSeleccionado = anioSeleccionado;
    }

    /*public Proyecto getProyecto() {
        return proyecto;
    }

    public void setProyecto(Proyecto proyecto) {
        this.proyecto = proyecto;
    }*/

    /**
     * Creates new form diagAltaPresupuesto
     */
    public diagModificarPresupuesto(java.awt.Frame parent, boolean modal, Presupuesto presupuestoSeleccionado, Usuario usuario, int anio) {
        super(parent, modal);
        initComponents();
        this.usuario=usuario;
        this.anioSeleccionado = anio;    
        //setProyecto(proyectoSeleccionado);        
        setPresupuestoElegido(presupuestoSeleccionado);
        inicalizarComponentes();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        mattePainter1 = new org.jdesktop.swingx.painter.MattePainter();
        lblBienUso = new javax.swing.JLabel();
        lblBienConsumo = new javax.swing.JLabel();
        lblBienNoPersonal = new javax.swing.JLabel();
        lblAnio1 = new javax.swing.JLabel();
        lblAnio2 = new javax.swing.JLabel();
        lblAnio3 = new javax.swing.JLabel();
        lblAnio4 = new javax.swing.JLabel();
        tfBienNoPersonalP1 = new javax.swing.JTextField();
        tfGastosViajeP1 = new javax.swing.JTextField();
        tfBienNoPersonalP2 = new javax.swing.JTextField();
        tfGastosViajeP2 = new javax.swing.JTextField();
        tfGastosViajeP3 = new javax.swing.JTextField();
        tfGastosViajeP4 = new javax.swing.JTextField();
        tfBienNoPersonalP3 = new javax.swing.JTextField();
        tfBienNoPersonalP4 = new javax.swing.JTextField();
        tfBienConsumoP1 = new javax.swing.JTextField();
        tfBienConsumoP2 = new javax.swing.JTextField();
        tfBienConsumoP3 = new javax.swing.JTextField();
        tfBienConsumoP4 = new javax.swing.JTextField();
        lblTotal = new javax.swing.JLabel();
        lblTotalP1 = new javax.swing.JLabel();
        lblTotalP2 = new javax.swing.JLabel();
        lblTotalP3 = new javax.swing.JLabel();
        lblTotalP4 = new javax.swing.JLabel();
        btnGuardar = new javax.swing.JButton();
        tfBienConsumoA1 = new javax.swing.JTextField();
        tfBienConsumoA2 = new javax.swing.JTextField();
        tfBienConsumoA3 = new javax.swing.JTextField();
        tfBienConsumoA4 = new javax.swing.JTextField();
        tfBienNoPersonalA1 = new javax.swing.JTextField();
        tfBienNoPersonalA2 = new javax.swing.JTextField();
        tfBienNoPersonalA3 = new javax.swing.JTextField();
        tfBienNoPersonalA4 = new javax.swing.JTextField();
        tfGastosViajeA1 = new javax.swing.JTextField();
        tfGastosViajeA2 = new javax.swing.JTextField();
        tfGastosViajeA3 = new javax.swing.JTextField();
        tfGastosViajeA4 = new javax.swing.JTextField();
        tfBienUsoP1 = new javax.swing.JTextField();
        tfBienUsoA1 = new javax.swing.JTextField();
        tfBienUsoA2 = new javax.swing.JTextField();
        tfBienUsoP2 = new javax.swing.JTextField();
        tfBienUsoA3 = new javax.swing.JTextField();
        tfBienUsoP3 = new javax.swing.JTextField();
        tfBienUsoA4 = new javax.swing.JTextField();
        tfBienUsoP4 = new javax.swing.JTextField();
        lblGastosViaje = new javax.swing.JLabel();
        lblBienUsoA = new javax.swing.JLabel();
        lblBienConsumoA = new javax.swing.JLabel();
        lblBienNoPersonalA = new javax.swing.JLabel();
        lblGastosViajeA = new javax.swing.JLabel();
        lblBienUsoP = new javax.swing.JLabel();
        lblBienConsumoP = new javax.swing.JLabel();
        lblBienNoPersonalP = new javax.swing.JLabel();
        lblGastosViajeP = new javax.swing.JLabel();
        lblTotalP = new javax.swing.JLabel();
        lblTotalA = new javax.swing.JLabel();
        lblTotalA1 = new javax.swing.JLabel();
        lblTotalA2 = new javax.swing.JLabel();
        lblTotalA3 = new javax.swing.JLabel();
        lblTotalA4 = new javax.swing.JLabel();
        lblAnio5 = new javax.swing.JLabel();
        tfBienConsumoP5 = new javax.swing.JTextField();
        tfBienConsumoA5 = new javax.swing.JTextField();
        tfBienNoPersonalP5 = new javax.swing.JTextField();
        tfBienNoPersonalA5 = new javax.swing.JTextField();
        tfGastosViajeP5 = new javax.swing.JTextField();
        tfGastosViajeA5 = new javax.swing.JTextField();
        tfBienUsoP5 = new javax.swing.JTextField();
        tfBienUsoA5 = new javax.swing.JTextField();
        lblTotalA5 = new javax.swing.JLabel();
        lblTotalP5 = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        taObservacionModificacionPresupuesto = new javax.swing.JTextArea();
        btnArchivoModificacionPresupuesto = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        tfArchivoModificacionPresupuesto = new javax.swing.JTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.title_1")); // NOI18N

        lblBienUso.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblBienUso.text_1")); // NOI18N

        lblBienConsumo.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblBienConsumo.text_1")); // NOI18N

        lblBienNoPersonal.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblBienNoPersonal.text_1")); // NOI18N

        lblAnio1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblAnio1.text_1")); // NOI18N

        lblAnio2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblAnio2.text_1")); // NOI18N

        lblAnio3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblAnio3.text_1")); // NOI18N

        lblAnio4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblAnio4.text_1")); // NOI18N

        tfBienNoPersonalP1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalP1.text_1")); // NOI18N
        tfBienNoPersonalP1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienNoPersonalP1FocusLost(evt);
            }
        });

        tfGastosViajeP1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeP1.text_1")); // NOI18N
        tfGastosViajeP1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfGastosViajeP1FocusLost(evt);
            }
        });

        tfBienNoPersonalP2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalP2.text_1")); // NOI18N

        tfGastosViajeP2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeP2.text_1")); // NOI18N
        tfGastosViajeP2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfGastosViajeP2FocusLost(evt);
            }
        });

        tfGastosViajeP3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeP3.text_1")); // NOI18N
        tfGastosViajeP3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfGastosViajeP3FocusLost(evt);
            }
        });

        tfGastosViajeP4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeP4.text_1")); // NOI18N
        tfGastosViajeP4.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfGastosViajeP4FocusLost(evt);
            }
        });

        tfBienNoPersonalP3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalP3.text_1")); // NOI18N

        tfBienNoPersonalP4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalP4.text_1")); // NOI18N
        tfBienNoPersonalP4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tfBienNoPersonalP4ActionPerformed(evt);
            }
        });

        tfBienConsumoP1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoP1.text_1")); // NOI18N
        tfBienConsumoP1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienConsumoP1FocusLost(evt);
            }
        });

        tfBienConsumoP2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoP2.text_1")); // NOI18N

        tfBienConsumoP3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoP3.text_1")); // NOI18N

        tfBienConsumoP4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoP4.text_1")); // NOI18N

        lblTotal.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotal.text_1")); // NOI18N

        lblTotalP1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalP1.text_1")); // NOI18N

        lblTotalP2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalP2.text_1")); // NOI18N

        lblTotalP3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalP3.text_1")); // NOI18N

        lblTotalP4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalP4.text_1")); // NOI18N

        btnGuardar.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.btnGuardar.text_1")); // NOI18N
        btnGuardar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnGuardarActionPerformed(evt);
            }
        });

        tfBienConsumoA1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoA1.text_1")); // NOI18N
        tfBienConsumoA1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tfBienConsumoA1ActionPerformed(evt);
            }
        });
        tfBienConsumoA1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienConsumoA1FocusLost(evt);
            }
        });

        tfBienConsumoA2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoA2.text_1")); // NOI18N
        tfBienConsumoA2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienConsumoA2FocusLost(evt);
            }
        });

        tfBienConsumoA3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoA3.text_1")); // NOI18N
        tfBienConsumoA3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienConsumoA3FocusLost(evt);
            }
        });

        tfBienConsumoA4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoA4.text_1")); // NOI18N
        tfBienConsumoA4.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienConsumoA4FocusLost(evt);
            }
        });

        tfBienNoPersonalA1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalA1.text_1")); // NOI18N
        tfBienNoPersonalA1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienNoPersonalA1FocusLost(evt);
            }
        });

        tfBienNoPersonalA2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalA2.text_1")); // NOI18N
        tfBienNoPersonalA2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienNoPersonalA2FocusLost(evt);
            }
        });

        tfBienNoPersonalA3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalA3.text_1")); // NOI18N
        tfBienNoPersonalA3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienNoPersonalA3FocusLost(evt);
            }
        });

        tfBienNoPersonalA4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalA4.text_1")); // NOI18N
        tfBienNoPersonalA4.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienNoPersonalA4FocusLost(evt);
            }
        });

        tfGastosViajeA1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeA1.text_1")); // NOI18N
        tfGastosViajeA1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfGastosViajeA1FocusLost(evt);
            }
        });

        tfGastosViajeA2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeA2.text_1")); // NOI18N
        tfGastosViajeA2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfGastosViajeA2FocusLost(evt);
            }
        });

        tfGastosViajeA3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeA3.text_1")); // NOI18N
        tfGastosViajeA3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfGastosViajeA3FocusLost(evt);
            }
        });

        tfGastosViajeA4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeA4.text_1")); // NOI18N
        tfGastosViajeA4.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfGastosViajeA4FocusLost(evt);
            }
        });

        tfBienUsoP1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoP1.text_1")); // NOI18N
        tfBienUsoP1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienUsoP1FocusLost(evt);
            }
        });

        tfBienUsoA1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoA1.text_1")); // NOI18N
        tfBienUsoA1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienUsoA1FocusLost(evt);
            }
        });

        tfBienUsoA2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoA2.text_1")); // NOI18N
        tfBienUsoA2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienUsoA2FocusLost(evt);
            }
        });

        tfBienUsoP2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoP2.text_1")); // NOI18N
        tfBienUsoP2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienUsoP2FocusLost(evt);
            }
        });

        tfBienUsoA3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoA3.text_1")); // NOI18N
        tfBienUsoA3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienUsoA3FocusLost(evt);
            }
        });

        tfBienUsoP3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoP3.text_1")); // NOI18N

        tfBienUsoA4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoA4.text_1")); // NOI18N
        tfBienUsoA4.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienUsoA4FocusLost(evt);
            }
        });

        tfBienUsoP4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoP4.text_1")); // NOI18N

        lblGastosViaje.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblGastosViaje.text_1")); // NOI18N

        lblBienUsoA.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblBienUsoA.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblBienUsoA.text_1")); // NOI18N
        lblBienUsoA.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);

        lblBienConsumoA.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblBienConsumoA.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblBienConsumoA.text_1")); // NOI18N
        lblBienConsumoA.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);

        lblBienNoPersonalA.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblBienNoPersonalA.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblBienNoPersonalA.text_1")); // NOI18N
        lblBienNoPersonalA.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);

        lblGastosViajeA.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblGastosViajeA.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblGastosViajeA.text_1")); // NOI18N
        lblGastosViajeA.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);

        lblBienUsoP.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblBienUsoP.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblBienUsoP.text_1")); // NOI18N

        lblBienConsumoP.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblBienConsumoP.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblBienConsumoP.text_1")); // NOI18N

        lblBienNoPersonalP.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblBienNoPersonalP.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblBienNoPersonalP.text_1")); // NOI18N

        lblGastosViajeP.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblGastosViajeP.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblGastosViajeP.text_1")); // NOI18N

        lblTotalP.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblTotalP.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalP.text_1")); // NOI18N

        lblTotalA.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblTotalA.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalA.text_1")); // NOI18N
        lblTotalA.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);

        lblTotalA1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalA1.text_1")); // NOI18N

        lblTotalA2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalA2.text_1")); // NOI18N

        lblTotalA3.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalA3.text_1")); // NOI18N

        lblTotalA4.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalA4.text_1")); // NOI18N

        lblAnio5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblAnio5.text")); // NOI18N

        tfBienConsumoP5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoP5.text")); // NOI18N

        tfBienConsumoA5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienConsumoA5.text")); // NOI18N
        tfBienConsumoA5.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienConsumoA5FocusLost(evt);
            }
        });

        tfBienNoPersonalP5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalP5.text")); // NOI18N

        tfBienNoPersonalA5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienNoPersonalA5.text")); // NOI18N
        tfBienNoPersonalA5.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienNoPersonalA5FocusLost(evt);
            }
        });

        tfGastosViajeP5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeP5.text")); // NOI18N

        tfGastosViajeA5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfGastosViajeA5.text")); // NOI18N
        tfGastosViajeA5.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfGastosViajeA5FocusLost(evt);
            }
        });

        tfBienUsoP5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoP5.text")); // NOI18N

        tfBienUsoA5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfBienUsoA5.text")); // NOI18N
        tfBienUsoA5.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfBienUsoA5FocusLost(evt);
            }
        });

        lblTotalA5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalA5.text")); // NOI18N

        lblTotalP5.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.lblTotalP5.text")); // NOI18N

        jLabel1.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.jLabel1.text")); // NOI18N

        taObservacionModificacionPresupuesto.setColumns(20);
        taObservacionModificacionPresupuesto.setRows(5);
        jScrollPane1.setViewportView(taObservacionModificacionPresupuesto);

        btnArchivoModificacionPresupuesto.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.btnArchivoModificacionPresupuesto.text")); // NOI18N
        btnArchivoModificacionPresupuesto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnArchivoModificacionPresupuestoActionPerformed(evt);
            }
        });

        jLabel2.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.jLabel2.text")); // NOI18N

        tfArchivoModificacionPresupuesto.setText(org.openide.util.NbBundle.getMessage(diagModificarPresupuesto.class, "diagModificarPresupuesto.tfArchivoModificacionPresupuesto.text")); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(lblAnio1)
                                            .addComponent(lblAnio2)
                                            .addComponent(lblAnio3)
                                            .addComponent(lblAnio4)
                                            .addComponent(lblAnio5))
                                        .addGap(41, 41, 41)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(layout.createSequentialGroup()
                                                .addComponent(lblBienUsoP, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addGap(18, 18, 18)
                                                .addComponent(lblBienUsoA, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE))
                                            .addGroup(layout.createSequentialGroup()
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                                    .addComponent(tfBienConsumoP5, javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addComponent(tfBienConsumoP1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 61, Short.MAX_VALUE)
                                                    .addComponent(tfBienConsumoP2, javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addComponent(tfBienConsumoP3, javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addComponent(tfBienConsumoP4, javax.swing.GroupLayout.Alignment.LEADING))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                                    .addComponent(tfBienConsumoA1, javax.swing.GroupLayout.DEFAULT_SIZE, 59, Short.MAX_VALUE)
                                                    .addComponent(tfBienConsumoA2)
                                                    .addComponent(tfBienConsumoA3)
                                                    .addComponent(tfBienConsumoA4)
                                                    .addComponent(tfBienConsumoA5))))
                                        .addGap(37, 37, 37))
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(lblBienConsumo)
                                        .addGap(46, 46, 46)))
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                                .addComponent(tfBienNoPersonalP1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 60, Short.MAX_VALUE)
                                                .addComponent(tfBienNoPersonalP2, javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(tfBienNoPersonalP3, javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(tfBienNoPersonalP4, javax.swing.GroupLayout.Alignment.LEADING))
                                            .addComponent(lblBienConsumoP, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(tfBienNoPersonalP5, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(tfBienNoPersonalA1)
                                            .addComponent(tfBienNoPersonalA2)
                                            .addComponent(tfBienNoPersonalA3)
                                            .addComponent(tfBienNoPersonalA4)
                                            .addComponent(lblBienConsumoA, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(tfBienNoPersonalA5, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                        .addComponent(lblBienNoPersonal)
                                        .addGap(5, 5, 5)))
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(28, 28, 28)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(lblBienNoPersonalP, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(tfGastosViajeP1, javax.swing.GroupLayout.DEFAULT_SIZE, 60, Short.MAX_VALUE)
                                            .addComponent(tfGastosViajeP2)
                                            .addComponent(tfGastosViajeP3)
                                            .addComponent(tfGastosViajeP4)
                                            .addComponent(tfGastosViajeP5))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(tfGastosViajeA1, javax.swing.GroupLayout.DEFAULT_SIZE, 62, Short.MAX_VALUE)
                                            .addComponent(tfGastosViajeA2)
                                            .addComponent(tfGastosViajeA3)
                                            .addComponent(lblBienNoPersonalA, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(tfGastosViajeA4)
                                            .addComponent(tfGastosViajeA5))
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(layout.createSequentialGroup()
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                                        .addGap(21, 21, 21)
                                                        .addComponent(lblGastosViajeP, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addGap(18, 18, 18)
                                                        .addComponent(lblGastosViajeA, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                    .addGroup(layout.createSequentialGroup()
                                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                        .addComponent(lblBienUso, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                                .addGap(27, 27, 27)
                                                .addComponent(lblTotalP, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE))
                                            .addGroup(layout.createSequentialGroup()
                                                .addGap(24, 24, 24)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addGroup(layout.createSequentialGroup()
                                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                                            .addComponent(tfBienUsoP4)
                                                            .addComponent(tfBienUsoP3)
                                                            .addComponent(tfBienUsoP5)
                                                            .addComponent(tfBienUsoP2, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                        .addGap(10, 10, 10)
                                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                                            .addComponent(tfBienUsoA4, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 59, Short.MAX_VALUE)
                                                            .addComponent(tfBienUsoA3)
                                                            .addComponent(tfBienUsoA5)))
                                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                                        .addComponent(tfBienUsoA2, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addGroup(layout.createSequentialGroup()
                                                            .addComponent(tfBienUsoP1, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                                            .addComponent(tfBienUsoA1, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE))))
                                                .addGap(34, 34, 34)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addComponent(lblTotalP3)
                                                    .addComponent(lblTotalP1)
                                                    .addComponent(lblTotalP2)
                                                    .addComponent(lblTotalP4)
                                                    .addComponent(lblTotalP5))))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(lblTotalA, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addGroup(layout.createSequentialGroup()
                                                .addGap(10, 10, 10)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addComponent(lblTotalA2)
                                                    .addComponent(lblTotalA1)
                                                    .addComponent(lblTotalA3)
                                                    .addComponent(lblTotalA4)
                                                    .addComponent(lblTotalA5)))))
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(43, 43, 43)
                                        .addComponent(lblGastosViaje))))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(lblTotal)
                                .addGap(47, 47, 47)))
                        .addGap(13, 13, 13))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel1)
                            .addComponent(jLabel2))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(tfArchivoModificacionPresupuesto, javax.swing.GroupLayout.PREFERRED_SIZE, 387, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(btnArchivoModificacionPresupuesto))
                            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 526, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnGuardar, javax.swing.GroupLayout.PREFERRED_SIZE, 192, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lblBienConsumo)
                            .addComponent(lblBienNoPersonal)
                            .addComponent(lblGastosViaje))
                        .addGap(11, 11, 11)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lblBienUsoA)
                            .addComponent(lblBienConsumoA)
                            .addComponent(lblBienNoPersonalA)
                            .addComponent(lblBienUsoP)
                            .addComponent(lblBienConsumoP)
                            .addComponent(lblBienNoPersonalP))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                .addComponent(lblAnio4)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(38, 38, 38)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(tfGastosViajeP2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(tfGastosViajeA2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGap(18, 18, 18)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(tfGastosViajeP3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(tfGastosViajeA3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGap(18, 18, 18)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(tfGastosViajeP4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(tfGastosViajeA4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(tfGastosViajeP1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(tfGastosViajeA1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(layout.createSequentialGroup()
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(tfBienConsumoP1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(lblAnio1)
                                            .addComponent(tfBienConsumoA1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGap(18, 18, 18)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(tfBienConsumoP2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(lblAnio2)
                                            .addComponent(tfBienConsumoA2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGap(18, 18, 18)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(tfBienConsumoP3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(lblAnio3)
                                            .addComponent(tfBienConsumoA3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGap(18, 18, 18)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(tfBienConsumoP4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(tfBienConsumoA4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(tfBienNoPersonalP1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tfBienNoPersonalA1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(tfBienNoPersonalP2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tfBienNoPersonalA2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(tfBienNoPersonalP3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tfBienNoPersonalA3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(tfBienNoPersonalP4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tfBienNoPersonalA4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lblTotal)
                            .addComponent(lblBienUso))
                        .addGap(11, 11, 11)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lblGastosViajeP)
                            .addComponent(lblGastosViajeA)
                            .addComponent(lblTotalP)
                            .addComponent(lblTotalA))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(lblTotalA1)
                                .addGap(24, 24, 24)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(tfBienUsoA2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tfBienUsoP2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblTotalP2)
                                    .addComponent(lblTotalA2))
                                .addGap(18, 18, 18)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(tfBienUsoA3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tfBienUsoP3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblTotalP3)
                                    .addComponent(lblTotalA3))
                                .addGap(18, 18, 18)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(tfBienUsoA4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tfBienUsoP4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblTotalP4)
                                    .addComponent(lblTotalA4)))
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(tfBienUsoP1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(tfBienUsoA1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(lblTotalP1)))))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfBienConsumoP5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfBienConsumoA5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfBienNoPersonalP5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfBienNoPersonalA5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfGastosViajeP5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfGastosViajeA5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfBienUsoP5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfBienUsoA5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblTotalA5)
                    .addComponent(lblTotalP5)
                    .addComponent(lblAnio5))
                .addGap(27, 27, 27)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnGuardar))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnArchivoModificacionPresupuesto)
                    .addComponent(jLabel2)
                    .addComponent(tfArchivoModificacionPresupuesto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void tfBienConsumoP1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienConsumoP1FocusLost
        
    }//GEN-LAST:event_tfBienConsumoP1FocusLost

    private void btnGuardarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnGuardarActionPerformed
        guardarPresupuesto();
    }//GEN-LAST:event_btnGuardarActionPerformed

    private void tfGastosViajeP1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfGastosViajeP1FocusLost
        
    }//GEN-LAST:event_tfGastosViajeP1FocusLost

    private void tfGastosViajeP2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfGastosViajeP2FocusLost
        
    }//GEN-LAST:event_tfGastosViajeP2FocusLost

    private void tfGastosViajeP3FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfGastosViajeP3FocusLost
        
    }//GEN-LAST:event_tfGastosViajeP3FocusLost

    private void tfGastosViajeP4FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfGastosViajeP4FocusLost
        
    }//GEN-LAST:event_tfGastosViajeP4FocusLost

    private void tfBienNoPersonalP4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tfBienNoPersonalP4ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tfBienNoPersonalP4ActionPerformed

    private void tfBienUsoA1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienUsoA1FocusLost
        calcularTotal1();
    }//GEN-LAST:event_tfBienUsoA1FocusLost

    private void tfBienUsoA2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienUsoA2FocusLost
        calcularTotal2();
    }//GEN-LAST:event_tfBienUsoA2FocusLost

    private void tfBienUsoA3FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienUsoA3FocusLost
        calcularTotal3();
    }//GEN-LAST:event_tfBienUsoA3FocusLost

    private void tfBienUsoA4FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienUsoA4FocusLost
        calcularTotal4();
    }//GEN-LAST:event_tfBienUsoA4FocusLost

    private void tfBienUsoA5FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienUsoA5FocusLost
        calcularTotal5();
    }//GEN-LAST:event_tfBienUsoA5FocusLost

    private void tfBienUsoP1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienUsoP1FocusLost
        
    }//GEN-LAST:event_tfBienUsoP1FocusLost

    private void tfBienUsoP2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienUsoP2FocusLost
        
    }//GEN-LAST:event_tfBienUsoP2FocusLost

    private void tfBienNoPersonalP1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienNoPersonalP1FocusLost
        
    }//GEN-LAST:event_tfBienNoPersonalP1FocusLost

    private void tfGastosViajeA1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfGastosViajeA1FocusLost
        calcularTotal1();
    }//GEN-LAST:event_tfGastosViajeA1FocusLost

    private void tfBienNoPersonalA1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienNoPersonalA1FocusLost
        calcularTotal1();
    }//GEN-LAST:event_tfBienNoPersonalA1FocusLost

    private void tfBienConsumoA1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienConsumoA1FocusLost
        calcularTotal1();
    }//GEN-LAST:event_tfBienConsumoA1FocusLost

    private void tfBienConsumoA2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienConsumoA2FocusLost
        calcularTotal2();
    }//GEN-LAST:event_tfBienConsumoA2FocusLost

    private void tfBienNoPersonalA2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienNoPersonalA2FocusLost
        calcularTotal2();
    }//GEN-LAST:event_tfBienNoPersonalA2FocusLost

    private void tfGastosViajeA2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfGastosViajeA2FocusLost
        calcularTotal2();
    }//GEN-LAST:event_tfGastosViajeA2FocusLost

    private void tfBienConsumoA3FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienConsumoA3FocusLost
        calcularTotal3();
    }//GEN-LAST:event_tfBienConsumoA3FocusLost

    private void tfBienNoPersonalA3FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienNoPersonalA3FocusLost
        calcularTotal3();
    }//GEN-LAST:event_tfBienNoPersonalA3FocusLost

    private void tfGastosViajeA3FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfGastosViajeA3FocusLost
        calcularTotal3();
    }//GEN-LAST:event_tfGastosViajeA3FocusLost

    private void tfBienConsumoA4FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienConsumoA4FocusLost
        calcularTotal4();
    }//GEN-LAST:event_tfBienConsumoA4FocusLost

    private void tfBienNoPersonalA4FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienNoPersonalA4FocusLost
        calcularTotal4();
    }//GEN-LAST:event_tfBienNoPersonalA4FocusLost

    private void tfGastosViajeA4FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfGastosViajeA4FocusLost
        calcularTotal4();
    }//GEN-LAST:event_tfGastosViajeA4FocusLost

    private void tfBienConsumoA5FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienConsumoA5FocusLost
        calcularTotal5();
    }//GEN-LAST:event_tfBienConsumoA5FocusLost

    private void tfBienNoPersonalA5FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfBienNoPersonalA5FocusLost
        calcularTotal5();
    }//GEN-LAST:event_tfBienNoPersonalA5FocusLost

    private void tfGastosViajeA5FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfGastosViajeA5FocusLost
        calcularTotal5();
    }//GEN-LAST:event_tfGastosViajeA5FocusLost

    private void btnArchivoModificacionPresupuestoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnArchivoModificacionPresupuestoActionPerformed
        agregarArchivoModificacionPresupuesto();
    }//GEN-LAST:event_btnArchivoModificacionPresupuestoActionPerformed

    private void tfBienConsumoA1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tfBienConsumoA1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tfBienConsumoA1ActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /*
         * Set the Nimbus look and feel
         */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /*
         * If Nimbus (introduced in Java SE 6) is not available, stay with the
         * default look and feel. For details see
         * http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(diagModificarPresupuesto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(diagModificarPresupuesto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(diagModificarPresupuesto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(diagModificarPresupuesto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /*
         * Create and display the dialog
         */
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                diagModificarPresupuesto dialog = new diagModificarPresupuesto(new javax.swing.JFrame(), true, new Presupuesto(), new Usuario(), new Integer("0"));
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {

                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnArchivoModificacionPresupuesto;
    private javax.swing.JButton btnGuardar;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lblAnio1;
    private javax.swing.JLabel lblAnio2;
    private javax.swing.JLabel lblAnio3;
    private javax.swing.JLabel lblAnio4;
    private javax.swing.JLabel lblAnio5;
    private javax.swing.JLabel lblBienConsumo;
    private javax.swing.JLabel lblBienConsumoA;
    private javax.swing.JLabel lblBienConsumoP;
    private javax.swing.JLabel lblBienNoPersonal;
    private javax.swing.JLabel lblBienNoPersonalA;
    private javax.swing.JLabel lblBienNoPersonalP;
    private javax.swing.JLabel lblBienUso;
    private javax.swing.JLabel lblBienUsoA;
    private javax.swing.JLabel lblBienUsoP;
    private javax.swing.JLabel lblGastosViaje;
    private javax.swing.JLabel lblGastosViajeA;
    private javax.swing.JLabel lblGastosViajeP;
    private javax.swing.JLabel lblTotal;
    private javax.swing.JLabel lblTotalA;
    private javax.swing.JLabel lblTotalA1;
    private javax.swing.JLabel lblTotalA2;
    private javax.swing.JLabel lblTotalA3;
    private javax.swing.JLabel lblTotalA4;
    private javax.swing.JLabel lblTotalA5;
    private javax.swing.JLabel lblTotalP;
    private javax.swing.JLabel lblTotalP1;
    private javax.swing.JLabel lblTotalP2;
    private javax.swing.JLabel lblTotalP3;
    private javax.swing.JLabel lblTotalP4;
    private javax.swing.JLabel lblTotalP5;
    private org.jdesktop.swingx.painter.MattePainter mattePainter1;
    private javax.swing.JTextArea taObservacionModificacionPresupuesto;
    private javax.swing.JTextField tfArchivoModificacionPresupuesto;
    private javax.swing.JTextField tfBienConsumoA1;
    private javax.swing.JTextField tfBienConsumoA2;
    private javax.swing.JTextField tfBienConsumoA3;
    private javax.swing.JTextField tfBienConsumoA4;
    private javax.swing.JTextField tfBienConsumoA5;
    private javax.swing.JTextField tfBienConsumoP1;
    private javax.swing.JTextField tfBienConsumoP2;
    private javax.swing.JTextField tfBienConsumoP3;
    private javax.swing.JTextField tfBienConsumoP4;
    private javax.swing.JTextField tfBienConsumoP5;
    private javax.swing.JTextField tfBienNoPersonalA1;
    private javax.swing.JTextField tfBienNoPersonalA2;
    private javax.swing.JTextField tfBienNoPersonalA3;
    private javax.swing.JTextField tfBienNoPersonalA4;
    private javax.swing.JTextField tfBienNoPersonalA5;
    private javax.swing.JTextField tfBienNoPersonalP1;
    private javax.swing.JTextField tfBienNoPersonalP2;
    private javax.swing.JTextField tfBienNoPersonalP3;
    private javax.swing.JTextField tfBienNoPersonalP4;
    private javax.swing.JTextField tfBienNoPersonalP5;
    private javax.swing.JTextField tfBienUsoA1;
    private javax.swing.JTextField tfBienUsoA2;
    private javax.swing.JTextField tfBienUsoA3;
    private javax.swing.JTextField tfBienUsoA4;
    private javax.swing.JTextField tfBienUsoA5;
    private javax.swing.JTextField tfBienUsoP1;
    private javax.swing.JTextField tfBienUsoP2;
    private javax.swing.JTextField tfBienUsoP3;
    private javax.swing.JTextField tfBienUsoP4;
    private javax.swing.JTextField tfBienUsoP5;
    private javax.swing.JTextField tfGastosViajeA1;
    private javax.swing.JTextField tfGastosViajeA2;
    private javax.swing.JTextField tfGastosViajeA3;
    private javax.swing.JTextField tfGastosViajeA4;
    private javax.swing.JTextField tfGastosViajeA5;
    private javax.swing.JTextField tfGastosViajeP1;
    private javax.swing.JTextField tfGastosViajeP2;
    private javax.swing.JTextField tfGastosViajeP3;
    private javax.swing.JTextField tfGastosViajeP4;
    private javax.swing.JTextField tfGastosViajeP5;
    // End of variables declaration//GEN-END:variables

    private void inicalizarComponentes() {
        //JOptionPane.showMessageDialog(rootPane, anioSeleccionado);
        this.setLocationRelativeTo(null);
        cargarComponentes();       
        deshabilitarComponentes(false);
        habilitarAnioSeleccionado(true, anioSeleccionado);
        //gestionarComponentes(false, false, false, false, false, false);     
        deshabilitarEdicionPresupuestado();
    }
    
    private void deshabilitarComponentes(boolean valor) {
        tfBienConsumoA1.setEnabled(valor);
        tfBienConsumoA2.setEnabled(valor);
        tfBienConsumoA3.setEnabled(valor);
        tfBienConsumoA4.setEnabled(valor);
        tfBienConsumoA5.setEnabled(valor);
        tfBienConsumoP1.setEnabled(valor);
        tfBienConsumoP2.setEnabled(valor);
        tfBienConsumoP3.setEnabled(valor);
        tfBienConsumoP4.setEnabled(valor);
        tfBienConsumoP5.setEnabled(valor);
        tfBienNoPersonalA1.setEnabled(valor);
        tfBienNoPersonalA2.setEnabled(valor);
        tfBienNoPersonalA3.setEnabled(valor);
        tfBienNoPersonalA4.setEnabled(valor);
        tfBienNoPersonalA5.setEnabled(valor);
        tfBienNoPersonalP1.setEnabled(valor);
        tfBienNoPersonalP2.setEnabled(valor);
        tfBienNoPersonalP3.setEnabled(valor);
        tfBienNoPersonalP4.setEnabled(valor);
        tfBienNoPersonalP5.setEnabled(valor);
        tfBienUsoA1.setEnabled(valor);
        tfBienUsoA2.setEnabled(valor);
        tfBienUsoA3.setEnabled(valor);
        tfBienUsoA4.setEnabled(valor);
        tfBienUsoA5.setEnabled(valor);
        tfBienUsoP1.setEnabled(valor);
        tfBienUsoP2.setEnabled(valor);
        tfBienUsoP3.setEnabled(valor);
        tfBienUsoP4.setEnabled(valor);
        tfBienUsoP5.setEnabled(valor);
        tfGastosViajeA1.setEnabled(valor);
        tfGastosViajeA2.setEnabled(valor);
        tfGastosViajeA3.setEnabled(valor);
        tfGastosViajeA4.setEnabled(valor);
        tfGastosViajeA5.setEnabled(valor);
        tfGastosViajeP1.setEnabled(valor);
        tfGastosViajeP2.setEnabled(valor);
        tfGastosViajeP3.setEnabled(valor);
        tfGastosViajeP4.setEnabled(valor);
        tfGastosViajeP5.setEnabled(valor);
    }
    
     private void habilitarAnioSeleccionado(boolean valor, int anioSel) {
        if(anioSel == 1){
            tfBienConsumoA1.setEnabled(valor);
            tfBienConsumoP1.setEnabled(valor);
            tfBienNoPersonalA1.setEnabled(valor);
            tfBienNoPersonalP1.setEnabled(valor);
            tfBienUsoA1.setEnabled(valor);
            tfBienUsoP1.setEnabled(valor);
            tfGastosViajeA1.setEnabled(valor);
            tfGastosViajeP1.setEnabled(valor);
        }
        
        if(anioSel == 2){
            tfBienConsumoA2.setEnabled(valor);
            tfBienConsumoP2.setEnabled(valor);
            tfBienNoPersonalA2.setEnabled(valor);
            tfBienNoPersonalP2.setEnabled(valor);
            tfBienUsoA2.setEnabled(valor);
            tfBienUsoP2.setEnabled(valor);
            tfGastosViajeA2.setEnabled(valor);
            tfGastosViajeP2.setEnabled(valor);
        }
        
        if(anioSel == 3){
            tfBienConsumoA3.setEnabled(valor);
            tfBienConsumoP3.setEnabled(valor);
            tfBienNoPersonalA3.setEnabled(valor);
            tfBienNoPersonalP3.setEnabled(valor);
            tfBienUsoA3.setEnabled(valor);
            tfBienUsoP3.setEnabled(valor);
            tfGastosViajeA3.setEnabled(valor);
            tfGastosViajeP3.setEnabled(valor);
        }
        
        if(anioSel == 4){
            tfBienConsumoA4.setEnabled(valor);
            tfBienConsumoP4.setEnabled(valor);
            tfBienNoPersonalA4.setEnabled(valor);
            tfBienNoPersonalP4.setEnabled(valor);
            tfBienUsoA4.setEnabled(valor);
            tfBienUsoP4.setEnabled(valor);
            tfGastosViajeA4.setEnabled(valor);
            tfGastosViajeP4.setEnabled(valor);
        }
        
        if(anioSel == 5){
            tfBienConsumoA5.setEnabled(valor);
            tfBienConsumoP5.setEnabled(valor);
            tfBienNoPersonalA5.setEnabled(valor);
            tfBienNoPersonalP5.setEnabled(valor);
            tfBienUsoA5.setEnabled(valor);
            tfBienUsoP5.setEnabled(valor);
            tfGastosViajeA5.setEnabled(valor);
            tfGastosViajeP5.setEnabled(valor);
        }
        
    }
    
    private void cargarComponentes(){
        List<BienConsumo> listaBienesConsumo = getPresupuestoElegido().getBienConsumo();
        List<BienNoPersonal> listaBienesNoPersonal = getPresupuestoElegido().getBienNoPersonal();
        List<BienUso> listaBienesUso = getPresupuestoElegido().getBienUso();
        List<GastoViaje> listaGastoViaje = getPresupuestoElegido().getGastosViaje();
        
        int anios = listaBienesConsumo.size();
        switch (anios){
            case 1:
                for(BienConsumo bc: listaBienesConsumo){
                    if(bc.getAnio().equals("1")){
                        tfBienConsumoA1.setText(bc.getValorA().toString());
                        tfBienConsumoP1.setText(bc.getValor().toString());                      
                    }
                }
                for(BienNoPersonal bnp: listaBienesNoPersonal){
                    if(bnp.getAnio().equals("1")){
                        tfBienNoPersonalA1.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP1.setText(bnp.getValor().toString());                      
                    }
                }
                for(BienUso bu: listaBienesUso){
                    if(bu.getAnio().equals("1")){
                        tfBienUsoA1.setText(bu.getValorA().toString());
                        tfBienUsoP1.setText(bu.getValor().toString());                      
                    }
                }
                for(GastoViaje gv: listaGastoViaje){
                    if(gv.getAnio().equals("1")){
                        tfGastosViajeA1.setText(gv.getValorA().toString());
                        tfGastosViajeP1.setText(gv.getValor().toString());                      
                    }
                }                
                gestionarComponentes(true, true, false, false, false, false);
                calcularTotal1();
                break;
            case 2:
                for(BienConsumo bc: listaBienesConsumo){
                    if(bc.getAnio().equals("1")){
                        tfBienConsumoA1.setText(bc.getValorA().toString());
                        tfBienConsumoP1.setText(bc.getValor().toString());                      
                    }
                    if(bc.getAnio().equals("2")){
                        tfBienConsumoA2.setText(bc.getValorA().toString());
                        tfBienConsumoP2.setText(bc.getValor().toString());                      
                    }
                }
                for(BienNoPersonal bnp: listaBienesNoPersonal){
                    if(bnp.getAnio().equals("1")){
                        tfBienNoPersonalA1.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP1.setText(bnp.getValor().toString());                      
                    }
                    if(bnp.getAnio().equals("2")){
                        tfBienNoPersonalA2.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP2.setText(bnp.getValor().toString());                      
                    }
                }
                for(BienUso bu: listaBienesUso){
                    if(bu.getAnio().equals("1")){
                        tfBienUsoA1.setText(bu.getValorA().toString());
                        tfBienUsoP1.setText(bu.getValor().toString());                      
                    }
                    if(bu.getAnio().equals("2")){
                        tfBienUsoA2.setText(bu.getValorA().toString());
                        tfBienUsoP2.setText(bu.getValor().toString());                      
                    }
                }
                for(GastoViaje gv: listaGastoViaje){
                    if(gv.getAnio().equals("1")){
                        tfGastosViajeA1.setText(gv.getValorA().toString());
                        tfGastosViajeP1.setText(gv.getValor().toString());                      
                    }
                    if(gv.getAnio().equals("2")){
                        tfGastosViajeA2.setText(gv.getValorA().toString());
                        tfGastosViajeP2.setText(gv.getValor().toString());                      
                    }
                }   
                gestionarComponentes(true, true, true, false, false, false);
                calcularTotal1();
                calcularTotal2();                
                break;
            case 4:
                for(BienConsumo bc: listaBienesConsumo){
                    if(bc.getAnio().equals("1")){
                        tfBienConsumoA1.setText(bc.getValorA().toString());
                        tfBienConsumoP1.setText(bc.getValor().toString());                      
                    }
                    if(bc.getAnio().equals("2")){
                        tfBienConsumoA2.setText(bc.getValorA().toString());
                        tfBienConsumoP2.setText(bc.getValor().toString());                      
                    }
                    if(bc.getAnio().equals("3")){
                        tfBienConsumoA3.setText(bc.getValorA().toString());
                        tfBienConsumoP3.setText(bc.getValor().toString());                      
                    }
                    if(bc.getAnio().equals("4")){
                        tfBienConsumoA4.setText(bc.getValorA().toString());
                        tfBienConsumoP4.setText(bc.getValor().toString());                      
                    }
                }
                for(BienNoPersonal bnp: listaBienesNoPersonal){
                    if(bnp.getAnio().equals("1")){
                        tfBienNoPersonalA1.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP1.setText(bnp.getValor().toString());                      
                    }
                    if(bnp.getAnio().equals("2")){
                        tfBienNoPersonalA2.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP2.setText(bnp.getValor().toString());                      
                    }
                    if(bnp.getAnio().equals("3")){
                        tfBienNoPersonalA3.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP3.setText(bnp.getValor().toString());                      
                    }
                    if(bnp.getAnio().equals("4")){
                        tfBienNoPersonalA4.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP4.setText(bnp.getValor().toString());                      
                    }
                }
                for(BienUso bu: listaBienesUso){
                    if(bu.getAnio().equals("1")){
                        tfBienUsoA1.setText(bu.getValorA().toString());
                        tfBienUsoP1.setText(bu.getValor().toString());                      
                    }
                    if(bu.getAnio().equals("2")){
                        tfBienUsoA2.setText(bu.getValorA().toString());
                        tfBienUsoP2.setText(bu.getValor().toString());                      
                    }
                    if(bu.getAnio().equals("3")){
                        tfBienUsoA3.setText(bu.getValorA().toString());
                        tfBienUsoP3.setText(bu.getValor().toString());                      
                    }
                    if(bu.getAnio().equals("4")){
                        tfBienUsoA4.setText(bu.getValorA().toString());
                        tfBienUsoP4.setText(bu.getValor().toString());                      
                    }
                }
                for(GastoViaje gv: listaGastoViaje){
                    if(gv.getAnio().equals("1")){
                        tfGastosViajeA1.setText(gv.getValorA().toString());
                        tfGastosViajeP1.setText(gv.getValor().toString());                      
                    }
                    if(gv.getAnio().equals("2")){
                        tfGastosViajeA2.setText(gv.getValorA().toString());
                        tfGastosViajeP2.setText(gv.getValor().toString());                      
                    }
                    if(gv.getAnio().equals("3")){
                        tfGastosViajeA3.setText(gv.getValorA().toString());
                        tfGastosViajeP3.setText(gv.getValor().toString());                      
                    }
                    if(gv.getAnio().equals("4")){
                        tfGastosViajeA4.setText(gv.getValorA().toString());
                        tfGastosViajeP4.setText(gv.getValor().toString());                      
                    }
                }  
                gestionarComponentes(true, true, true, true, true, false);
                calcularTotal1();
                calcularTotal2();
                calcularTotal3();
                calcularTotal4();                                
                break;
            case 5:
                for(BienConsumo bc: listaBienesConsumo){
                    if(bc.getAnio().equals("1")){
                        tfBienConsumoA1.setText(bc.getValorA().toString());
                        tfBienConsumoP1.setText(bc.getValor().toString());                      
                    }
                    if(bc.getAnio().equals("2")){
                        tfBienConsumoA2.setText(bc.getValorA().toString());
                        tfBienConsumoP2.setText(bc.getValor().toString());                      
                    }
                    if(bc.getAnio().equals("3")){
                        tfBienConsumoA3.setText(bc.getValorA().toString());
                        tfBienConsumoP3.setText(bc.getValor().toString());                      
                    }
                    if(bc.getAnio().equals("4")){
                        tfBienConsumoA4.setText(bc.getValorA().toString());
                        tfBienConsumoP4.setText(bc.getValor().toString());                      
                    }
                    if(bc.getAnio().equals("5")){
                        tfBienConsumoA5.setText(bc.getValorA().toString());
                        tfBienConsumoP5.setText(bc.getValor().toString());                      
                    }
                }
                for(BienNoPersonal bnp: listaBienesNoPersonal){
                    if(bnp.getAnio().equals("1")){
                        tfBienNoPersonalA1.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP1.setText(bnp.getValor().toString());                      
                    }
                    if(bnp.getAnio().equals("2")){
                        tfBienNoPersonalA2.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP2.setText(bnp.getValor().toString());                      
                    }
                    if(bnp.getAnio().equals("3")){
                        tfBienNoPersonalA3.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP3.setText(bnp.getValor().toString());                      
                    }
                    if(bnp.getAnio().equals("4")){
                        tfBienNoPersonalA4.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP4.setText(bnp.getValor().toString());                      
                    }
                    if(bnp.getAnio().equals("5")){
                        tfBienNoPersonalA5.setText(bnp.getValorA().toString());
                        tfBienNoPersonalP5.setText(bnp.getValor().toString());                      
                    }
                }
                for(BienUso bu: listaBienesUso){
                    if(bu.getAnio().equals("1")){
                        tfBienUsoA1.setText(bu.getValorA().toString());
                        tfBienUsoP1.setText(bu.getValor().toString());                      
                    }
                    if(bu.getAnio().equals("2")){
                        tfBienUsoA2.setText(bu.getValorA().toString());
                        tfBienUsoP2.setText(bu.getValor().toString());                      
                    }
                    if(bu.getAnio().equals("3")){
                        tfBienUsoA3.setText(bu.getValorA().toString());
                        tfBienUsoP3.setText(bu.getValor().toString());                      
                    }
                    if(bu.getAnio().equals("4")){
                        tfBienUsoA4.setText(bu.getValorA().toString());
                        tfBienUsoP4.setText(bu.getValor().toString());                      
                    }
                    if(bu.getAnio().equals("5")){
                        tfBienUsoA5.setText(bu.getValorA().toString());
                        tfBienUsoP5.setText(bu.getValor().toString());                      
                    }
                }
                for(GastoViaje gv: listaGastoViaje){
                    if(gv.getAnio().equals("1")){
                        tfGastosViajeA1.setText(gv.getValorA().toString());
                        tfGastosViajeP1.setText(gv.getValor().toString());                      
                    }
                    if(gv.getAnio().equals("2")){
                        tfGastosViajeA2.setText(gv.getValorA().toString());
                        tfGastosViajeP2.setText(gv.getValor().toString());                      
                    }
                    if(gv.getAnio().equals("3")){
                        tfGastosViajeA3.setText(gv.getValorA().toString());
                        tfGastosViajeP3.setText(gv.getValor().toString());                      
                    }
                    if(gv.getAnio().equals("4")){
                        tfGastosViajeA4.setText(gv.getValorA().toString());
                        tfGastosViajeP4.setText(gv.getValor().toString());                      
                    }
                    if(gv.getAnio().equals("5")){
                        tfGastosViajeA5.setText(gv.getValorA().toString());
                        tfGastosViajeP5.setText(gv.getValor().toString());                      
                    }
                }   
                gestionarComponentes(true, true, true, true, true, true);
                calcularTotal1();
                calcularTotal2();
                calcularTotal3();
                calcularTotal4();
                calcularTotal5();                
                break;
        };
    }

    private void gestionarComponentes(boolean valor, boolean valor1,
        boolean valor2, boolean valor3, boolean valor4, boolean valor5) {        
        
        lblAnio1.setVisible(valor1);
        tfBienNoPersonalP1.setVisible(valor1);
        tfGastosViajeP1.setVisible(valor1);
        tfBienConsumoP1.setVisible(valor1);
        tfBienNoPersonalA1.setVisible(valor1);
        tfGastosViajeA1.setVisible(valor1);
        tfBienConsumoA1.setVisible(valor1);        
        tfBienUsoA1.setVisible(valor1);
        tfBienUsoP1.setVisible(valor1);        
        lblTotalP1.setVisible(valor1);
        lblTotalA1.setVisible(valor1);

        lblAnio2.setVisible(valor2);
        tfBienNoPersonalP2.setVisible(valor2);
        tfGastosViajeP2.setVisible(valor2);
        tfBienConsumoP2.setVisible(valor2);
        tfBienNoPersonalA2.setVisible(valor2);
        tfGastosViajeA2.setVisible(valor2);
        tfBienConsumoA2.setVisible(valor2);    
        tfBienUsoA2.setVisible(valor2);
        tfBienUsoP2.setVisible(valor2);
        lblTotalP2.setVisible(valor2);
        lblTotalA2.setVisible(valor2);

        lblAnio3.setVisible(valor3);
        tfBienNoPersonalP3.setVisible(valor3);
        tfGastosViajeP3.setVisible(valor3);
        tfBienConsumoP3.setVisible(valor3);
        tfBienNoPersonalA3.setVisible(valor3);
        tfGastosViajeA3.setVisible(valor3);
        tfBienConsumoA3.setVisible(valor3);
        tfBienUsoA3.setVisible(valor3);
        tfBienUsoP3.setVisible(valor3);
        lblTotalP3.setVisible(valor3);
        lblTotalA3.setVisible(valor3);

        lblAnio4.setVisible(valor4);
        tfBienNoPersonalP4.setVisible(valor4);
        tfGastosViajeP4.setVisible(valor4);
        tfBienConsumoP4.setVisible(valor4);
        tfBienNoPersonalA4.setVisible(valor4);
        tfGastosViajeA4.setVisible(valor4);
        tfBienConsumoA4.setVisible(valor4);
        tfBienUsoA4.setVisible(valor4);
        tfBienUsoP4.setVisible(valor4);
        lblTotalP4.setVisible(valor4);       
        lblTotalA4.setVisible(valor4);     
        
        lblAnio5.setVisible(valor5);
        tfBienNoPersonalP5.setVisible(valor5);
        tfGastosViajeP5.setVisible(valor5);
        tfBienConsumoP5.setVisible(valor5);
        tfBienNoPersonalA5.setVisible(valor5);
        tfGastosViajeA5.setVisible(valor5);
        tfBienConsumoA5.setVisible(valor5);        
        tfBienUsoA5.setVisible(valor5);
        tfBienUsoP5.setVisible(valor5);        
        lblTotalP5.setVisible(valor5);
        lblTotalA5.setVisible(valor5);

        mostrarEncabezados(valor);
        setearValoresLabel(new BigDecimal(0.0), new BigDecimal(0.0),
                new BigDecimal(0.0), new BigDecimal(0.0),new BigDecimal(0.0), new BigDecimal(0.0),
                new BigDecimal(0.0), new BigDecimal(0.0),new BigDecimal(0.0), new BigDecimal(0.0));
    }  

    private void setearValoresLabel(BigDecimal numero1, BigDecimal numero2,
            BigDecimal numero3, BigDecimal numero4,BigDecimal numero5, BigDecimal numero6,
            BigDecimal numero7, BigDecimal numero8,BigDecimal numero9, BigDecimal numero10) {
        lblTotalP1.setText(String.valueOf(numero1));
        lblTotalP2.setText(String.valueOf(numero2));
        lblTotalP3.setText(String.valueOf(numero3));
        lblTotalP4.setText(String.valueOf(numero4));
        lblTotalP5.setText(String.valueOf(numero5));
        lblTotalA1.setText(String.valueOf(numero6));
        lblTotalA2.setText(String.valueOf(numero7));
        lblTotalA3.setText(String.valueOf(numero8));
        lblTotalA4.setText(String.valueOf(numero9));
        lblTotalA5.setText(String.valueOf(numero10));
    }

    private void mostrarEncabezados(boolean valor) {
        lblBienConsumo.setVisible(valor);
        lblBienConsumoA.setVisible(valor);
        lblBienConsumoP.setVisible(valor);
        lblBienNoPersonal.setVisible(valor);
        lblBienNoPersonalA.setVisible(valor);
        lblBienNoPersonalP.setVisible(valor);        
        lblBienUso.setVisible(valor);
        lblBienUsoA.setVisible(valor);
        lblBienUsoP.setVisible(valor);
        lblGastosViaje.setVisible(valor);
        lblGastosViajeA.setVisible(valor);
        lblGastosViajeP.setVisible(valor);
        btnGuardar.setVisible(valor);
        lblTotal.setVisible(valor);
        lblTotalP.setVisible(valor);
        lblTotalA.setVisible(valor);
    }

    private void guardarPresupuesto() {
        validarCampos();
    }
    
    private void calcularTotal1() {
        BigDecimal bienUsoP1;
        BigDecimal bienNoPersonalP1;
        BigDecimal bienConsumoP1;
        BigDecimal gastosViajeP1;        
        
        BigDecimal bienUsoA1;
        BigDecimal bienNoPersonalA1;
        BigDecimal bienConsumoA1;
        BigDecimal gastosViajeA1;

        
        if (tfBienConsumoP1.getText().equals("")) {
            bienConsumoP1 = new BigDecimal("0");
        } else {
            bienConsumoP1 = new BigDecimal(tfBienConsumoP1.getText());
        }       

        if (tfGastosViajeP1.getText().equals("")) {
            gastosViajeP1 = new BigDecimal("0");
        } else {
            gastosViajeP1 = new BigDecimal(tfGastosViajeP1.getText());
        }        

        if (tfBienNoPersonalP1.getText().equals("")) {
            bienNoPersonalP1 = new BigDecimal("0");
        } else {
            bienNoPersonalP1 = new BigDecimal(tfBienNoPersonalP1.getText());
        }
        
        if (tfBienUsoP1.getText().equals("")) {
            bienUsoP1 = new BigDecimal("0");
        } else {
            bienUsoP1 = new BigDecimal(tfBienUsoP1.getText());
        }
        
        if (tfBienConsumoA1.getText().equals("")) {
            bienConsumoA1 = new BigDecimal("0");
        } else {
            bienConsumoA1 = new BigDecimal(tfBienConsumoA1.getText());
        }

        if (tfGastosViajeA1.getText().equals("")) {
            gastosViajeA1 = new BigDecimal("0");
        } else {
            gastosViajeA1 = new BigDecimal(tfGastosViajeA1.getText());
        }

        if (tfBienNoPersonalA1.getText().equals("")) {
            bienNoPersonalA1 = new BigDecimal("0");
        } else {
            bienNoPersonalA1 = new BigDecimal(tfBienNoPersonalA1.getText());
        }
        
        if (tfBienUsoA1.getText().equals("")) {
            bienUsoA1 = new BigDecimal("0");
        } else {
            bienUsoA1 = new BigDecimal(tfBienUsoA1.getText());
        }

        BigDecimal totalP1 = bienConsumoP1.add(bienUsoP1).add(bienNoPersonalP1).add(gastosViajeP1);
        lblTotalP1.setText(String.valueOf(totalP1));
        BigDecimal totalA1 = bienConsumoA1.add(bienUsoA1).add(bienNoPersonalA1).add(gastosViajeA1);
        lblTotalA1.setText(String.valueOf(totalA1));
    }

    private void calcularTotal2() {
        BigDecimal bienUsoP2;
        BigDecimal bienNoPersonalP2;
        BigDecimal bienConsumoP2;
        BigDecimal gastosViajeP2;

        BigDecimal bienUsoA2;
        BigDecimal bienNoPersonalA2;
        BigDecimal bienConsumoA2;
        BigDecimal gastosViajeA2;

        if (tfBienConsumoP2.getText().equals("")) {
            bienConsumoP2 = new BigDecimal("0");
        } else {
            bienConsumoP2 = new BigDecimal(tfBienConsumoP2.getText());
        }

        if (tfGastosViajeP2.getText().equals("")) {
            gastosViajeP2 = new BigDecimal("0");
        } else {
            gastosViajeP2 = new BigDecimal(tfGastosViajeP2.getText());
        }

        if (tfBienNoPersonalP2.getText().equals("")) {
            bienNoPersonalP2 = new BigDecimal("0");
        } else {
            bienNoPersonalP2 = new BigDecimal(tfBienNoPersonalP2.getText());
        }
        
        if (tfBienUsoP2.getText().equals("")) {
            bienUsoP2 = new BigDecimal("0");
        } else {
            bienUsoP2 = new BigDecimal(tfBienUsoP2.getText());
        }
        
        if (tfBienConsumoA2.getText().equals("")) {
            bienConsumoA2 = new BigDecimal("0");
        } else {
            bienConsumoA2 = new BigDecimal(tfBienConsumoA2.getText());
        }

        if (tfGastosViajeA2.getText().equals("")) {
            gastosViajeA2 = new BigDecimal("0");
        } else {
            gastosViajeA2 = new BigDecimal(tfGastosViajeA2.getText());
        }

        if (tfBienNoPersonalA2.getText().equals("")) {
            bienNoPersonalA2 = new BigDecimal("0");
        } else {
            bienNoPersonalA2 = new BigDecimal(tfBienNoPersonalA2.getText());
        }
        
        if (tfBienUsoA2.getText().equals("")) {
            bienUsoA2 = new BigDecimal("0");
        } else {
            bienUsoA2 = new BigDecimal(tfBienUsoA2.getText());
        }

        BigDecimal totalP2 = bienConsumoP2.add(bienUsoP2).add(bienNoPersonalP2).add(gastosViajeP2);
        lblTotalP2.setText(String.valueOf(totalP2));
        BigDecimal totalA2 = bienConsumoA2.add(bienUsoA2).add(bienNoPersonalA2).add(gastosViajeA2);
        lblTotalA2.setText(String.valueOf(totalA2));
    }

    private void calcularTotal3() {
        BigDecimal bienUsoP3;
        BigDecimal bienNoPersonalP3;
        BigDecimal bienConsumoP3;
        BigDecimal gastosViajeP3;
        
        BigDecimal bienUsoA3;
        BigDecimal bienNoPersonalA3;
        BigDecimal bienConsumoA3;
        BigDecimal gastosViajeA3;

        if (tfBienConsumoP3.getText().equals("")) {
            bienConsumoP3 = new BigDecimal("0");
        } else {
            bienConsumoP3 = new BigDecimal(tfBienConsumoP3.getText());
        }

        if (tfGastosViajeP3.getText().equals("")) {
            gastosViajeP3 = new BigDecimal("0");
        } else {
            gastosViajeP3 = new BigDecimal(tfGastosViajeP3.getText());
        }

        if (tfBienNoPersonalP3.getText().equals("")) {
            bienNoPersonalP3 = new BigDecimal("0");
        } else {
            bienNoPersonalP3 = new BigDecimal(tfBienNoPersonalP3.getText());
        }
        
        if (tfBienUsoP3.getText().equals("")) {
            bienUsoP3 = new BigDecimal("0");
        } else {
            bienUsoP3 = new BigDecimal(tfBienUsoP3.getText());
        }
        
        if (tfBienConsumoA3.getText().equals("")) {
            bienConsumoA3 = new BigDecimal("0");
        } else {
            bienConsumoA3 = new BigDecimal(tfBienConsumoA3.getText());
        }

        if (tfGastosViajeA3.getText().equals("")) {
            gastosViajeA3 = new BigDecimal("0");
        } else {
            gastosViajeA3 = new BigDecimal(tfGastosViajeA3.getText());
        }

        if (tfBienNoPersonalA3.getText().equals("")) {
            bienNoPersonalA3 = new BigDecimal("0");
        } else {
            bienNoPersonalA3 = new BigDecimal(tfBienNoPersonalA3.getText());
        }
        
        if (tfBienUsoA3.getText().equals("")) {
            bienUsoA3 = new BigDecimal("0");
        } else {
            bienUsoA3 = new BigDecimal(tfBienUsoA3.getText());
        }

        BigDecimal totalP3 = bienConsumoP3.add(bienUsoP3).add(bienNoPersonalP3).add(gastosViajeP3);
        lblTotalP3.setText(String.valueOf(totalP3));
        BigDecimal totalA3 = bienConsumoA3.add(bienUsoA3).add(bienNoPersonalA3).add(gastosViajeA3);
        lblTotalA3.setText(String.valueOf(totalA3));
    }

    private void calcularTotal4() {
        BigDecimal bienUsoP4;
        BigDecimal bienNoPersonalP4;
        BigDecimal bienConsumoP4;
        BigDecimal gastosViajeP4;
        
        BigDecimal bienUsoA4;
        BigDecimal bienNoPersonalA4;
        BigDecimal bienConsumoA4;
        BigDecimal gastosViajeA4;

        if (tfBienConsumoP4.getText().equals("")) {
            bienConsumoP4 = new BigDecimal("0");
        } else {
            bienConsumoP4 = new BigDecimal(tfBienConsumoP4.getText());
        }

        if (tfGastosViajeP4.getText().equals("")) {
            gastosViajeP4 = new BigDecimal("0");
        } else {
            gastosViajeP4 = new BigDecimal(tfGastosViajeP4.getText());
        }

        if (tfBienNoPersonalP4.getText().equals("")) {
            bienNoPersonalP4 = new BigDecimal("0");
        } else {
            bienNoPersonalP4 = new BigDecimal(tfBienNoPersonalP4.getText());
        }
        
        if (tfBienUsoP4.getText().equals("")) {
            bienUsoP4 = new BigDecimal("0");
        } else {
            bienUsoP4 = new BigDecimal(tfBienUsoP4.getText());
        }
        
        if (tfBienConsumoA4.getText().equals("")) {
            bienConsumoA4 = new BigDecimal("0");
        } else {
            bienConsumoA4 = new BigDecimal(tfBienConsumoA4.getText());
        }

        if (tfGastosViajeA4.getText().equals("")) {
            gastosViajeA4 = new BigDecimal("0");
        } else {
            gastosViajeA4 = new BigDecimal(tfGastosViajeA4.getText());
        }

        if (tfBienNoPersonalA4.getText().equals("")) {
            bienNoPersonalA4 = new BigDecimal("0");
        } else {
            bienNoPersonalA4 = new BigDecimal(tfBienNoPersonalA4.getText());
        }
        
        if (tfBienUsoA4.getText().equals("")) {
            bienUsoA4 = new BigDecimal("0");
        } else {
            bienUsoA4 = new BigDecimal(tfBienUsoA4.getText());
        }

        BigDecimal totalP4 = bienConsumoP4.add(bienUsoP4).add(bienNoPersonalP4).add(gastosViajeP4);
        lblTotalP4.setText(String.valueOf(totalP4));
        BigDecimal totalA4 = bienConsumoA4.add(bienUsoA4).add(bienNoPersonalA4).add(gastosViajeA4);
        lblTotalA4.setText(String.valueOf(totalA4));
    }
    
     private void calcularTotal5() {
        BigDecimal bienUsoP5;
        BigDecimal bienNoPersonalP5;
        BigDecimal bienConsumoP5;
        BigDecimal gastosViajeP5;
        
        BigDecimal bienUsoA5;
        BigDecimal bienNoPersonalA5;
        BigDecimal bienConsumoA5;
        BigDecimal gastosViajeA5;

        if (tfBienConsumoP5.getText().equals("")) {
            bienConsumoP5 = new BigDecimal("0");
        } else {
            bienConsumoP5 = new BigDecimal(tfBienConsumoP5.getText());
        }

        if (tfGastosViajeP5.getText().equals("")) {
            gastosViajeP5 = new BigDecimal("0");
        } else {
            gastosViajeP5 = new BigDecimal(tfGastosViajeP5.getText());
        }

        if (tfBienNoPersonalP5.getText().equals("")) {
            bienNoPersonalP5 = new BigDecimal("0");
        } else {
            bienNoPersonalP5 = new BigDecimal(tfBienNoPersonalP5.getText());
        }
        
        if (tfBienUsoP5.getText().equals("")) {
            bienUsoP5 = new BigDecimal("0");
        } else {
            bienUsoP5 = new BigDecimal(tfBienUsoP5.getText());
        }
        
        if (tfBienConsumoA5.getText().equals("")) {
            bienConsumoA5 = new BigDecimal("0");
        } else {
            bienConsumoA5 = new BigDecimal(tfBienConsumoA5.getText());
        }

        if (tfGastosViajeA5.getText().equals("")) {
            gastosViajeA5 = new BigDecimal("0");
        } else {
            gastosViajeA5 = new BigDecimal(tfGastosViajeA5.getText());
        }

        if (tfBienNoPersonalA5.getText().equals("")) {
            bienNoPersonalA5 = new BigDecimal("0");
        } else {
            bienNoPersonalA5 = new BigDecimal(tfBienNoPersonalA5.getText());
        }
        
        if (tfBienUsoA5.getText().equals("")) {
            bienUsoA5 = new BigDecimal("0");
        } else {
            bienUsoA5 = new BigDecimal(tfBienUsoA5.getText());
        }

        BigDecimal totalP5 = bienConsumoP5.add(bienUsoP5).add(bienNoPersonalP5).add(gastosViajeP5);
        lblTotalP5.setText(String.valueOf(totalP5));
        BigDecimal totalA5 = bienConsumoA5.add(bienUsoA5).add(bienNoPersonalA5).add(gastosViajeA5);
        lblTotalA5.setText(String.valueOf(totalA5));
    }

    private void validarCampos() {
        boolean bandera = true;
        String error = "Error: \n";       

        /*int valor = 0;
        if (getProyecto().getDuracionTeorica() == 0) {
            valor = Integer.parseInt(tfAnios.getText());
        } else {
            valor = getProyecto().getDuracionTeorica();
        }
        switch (valor) {
            case 1:
                if (tfBienConsumoP1.getText().isEmpty() || tfBienNoPersonalP1.getText().isEmpty() || tfBienUsoP1.getText().isEmpty() || tfGastosViajeP1.getText().isEmpty()) {                    bandera = false;
                    error += "Debe ingresar todos los valores del primer año \n";
                }
                break;
            case 2:
                if (tfBienConsumoP1.getText().isEmpty() || tfBienNoPersonalP1.getText().isEmpty() || tfBienUsoP1.getText().isEmpty() || tfGastosViajeP1.getText().isEmpty()
                        || tfBienConsumoP2.getText().isEmpty() || tfBienNoPersonalP2.getText().isEmpty() || tfBienUsoP2.getText().isEmpty() || tfGastosViajeP2.getText().isEmpty()) {
                    bandera = false;
                    error += "Debe ingresar todos los valores del primer y segundo año \n";
                }
                break;
            case 3:

                break;
            case 4:
                if (tfBienConsumoP1.getText().isEmpty() || tfBienNoPersonalP1.getText().isEmpty() || tfBienUsoP1.getText().isEmpty() || tfGastosViajeP1.getText().isEmpty()
                        || tfBienConsumoP2.getText().isEmpty() || tfBienNoPersonalP2.getText().isEmpty() || tfBienUsoP2.getText().isEmpty() || tfGastosViajeP2.getText().isEmpty()
                        || tfBienConsumoP3.getText().isEmpty() || tfBienNoPersonalP3.getText().isEmpty() || tfBienUsoP3.getText().isEmpty() || tfGastosViajeP3.getText().isEmpty()
                        || tfBienConsumoP4.getText().isEmpty() || tfBienNoPersonalP4.getText().isEmpty() || tfBienUsoP4.getText().isEmpty() || tfGastosViajeP4.getText().isEmpty()) {
                    bandera = false;
                    error += "Debe ingresar todos los valores para todos los años \n";
                }
                break;
        };*/

        if (bandera == false) {
            JOptionPane.showMessageDialog(null, error);
        } else {
            guardarRegistro();
        }
    }

    private void guardarRegistro() {
        Presupuesto presupuesto = getPresupuestoElegido();
        Documento archivoModificacion = new Documento();
        int valor = 0;        
        valor = getPresupuestoElegido().getBienConsumo().size();
        
        // GUARDO DEL REGISTRO PARA EL HISTORIAL
        List<BienConsumo> listaBienesConsumo = getPresupuestoElegido().getBienConsumo();
        List<BienNoPersonal> listaBienesNoPersonal = getPresupuestoElegido().getBienNoPersonal();
        List<BienUso> listaBienesUso = getPresupuestoElegido().getBienUso();
        List<GastoViaje> listaGastoViaje = getPresupuestoElegido().getGastosViaje();        
        
        ModificacionPresupuesto modificacionPresupuesto = new ModificacionPresupuesto();
        modificacionPresupuesto.setMontoBC(BigDecimal.ZERO);
        modificacionPresupuesto.setMontoBNP(BigDecimal.ZERO);
        modificacionPresupuesto.setMontoBU(BigDecimal.ZERO);
        modificacionPresupuesto.setMontoGV(BigDecimal.ZERO);
        
        for(BienConsumo bc: listaBienesConsumo){
            if(bc.getAnio().equals("1")){
                int res = new BigDecimal(tfBienConsumoA1.getText()).compareTo(bc.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA1.getText()));  
                    modificacionPresupuesto.setAnioModificado(1);
//                    JOptionPane.showMessageDialog(rootPane, "bc1v"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA1.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA1.getText()));  
//                    JOptionPane.showMessageDialog(rootPane, "bc1f"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA1.getText());
                }
            }

            if(bc.getAnio().equals("2")){    
                int res = new BigDecimal(tfBienConsumoA2.getText()).compareTo(bc.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA2.getText())); 
                    modificacionPresupuesto.setAnioModificado(2);
//                    JOptionPane.showMessageDialog(rootPane, "bc2v"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA2.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA2.getText()));  
//                    JOptionPane.showMessageDialog(rootPane, "bc2f"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA2.getText());
                }
            }

            if(bc.getAnio().equals("3")){
                int res = new BigDecimal(tfBienConsumoA3.getText()).compareTo(bc.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA3.getText())); 
                    modificacionPresupuesto.setAnioModificado(3);
//                    JOptionPane.showMessageDialog(rootPane, "bc3v"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA3.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA3.getText())); 
//                    JOptionPane.showMessageDialog(rootPane, "bc3f"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA3.getText());
                }
            }
            if(bc.getAnio().equals("4")){    
                int res = new BigDecimal(tfBienConsumoA4.getText()).compareTo(bc.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA4.getText()));  
                    modificacionPresupuesto.setAnioModificado(4);
//                    JOptionPane.showMessageDialog(rootPane, "bc4v"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA4.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA4.getText())); 
//                    JOptionPane.showMessageDialog(rootPane, "bc4f"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA4.getText());
                }
            }
            if(bc.getAnio().equals("5")){    
                int res = new BigDecimal(tfBienConsumoA5.getText()).compareTo(bc.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA5.getText())); 
                    modificacionPresupuesto.setAnioModificado(5);
//                    JOptionPane.showMessageDialog(rootPane, "bc5v"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA5.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBC(new BigDecimal(tfBienConsumoA5.getText()));  
//                    JOptionPane.showMessageDialog(rootPane, "bc5f"+" bc "+bc.getValorA()+"tf"+tfBienConsumoA5.getText());
                }
            }
        }
        
        for(BienNoPersonal bnp: listaBienesNoPersonal){
            if(bnp.getAnio().equals("1")){    
                int res = new BigDecimal(tfBienNoPersonalA1.getText()).compareTo(bnp.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA1.getText())); 
                    modificacionPresupuesto.setAnioModificado(1);
//                    JOptionPane.showMessageDialog(rootPane, "bnp1v"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA1.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA1.getText()));
//                    JOptionPane.showMessageDialog(rootPane, "bnp1f"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA1.getText());
                }
            }
            if(bnp.getAnio().equals("2")){   
                int res = new BigDecimal(tfBienNoPersonalA2.getText()).compareTo(bnp.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA2.getText()));    
                    modificacionPresupuesto.setAnioModificado(2);
//                    JOptionPane.showMessageDialog(rootPane, "bnp2v"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA2.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA2.getText()));  
//                    JOptionPane.showMessageDialog(rootPane, "bnp2f"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA2.getText());
                }
            }
            if(bnp.getAnio().equals("3")){ 
                int res = new BigDecimal(tfBienNoPersonalA3.getText()).compareTo(bnp.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA3.getText())); 
                    modificacionPresupuesto.setAnioModificado(3);
//                    JOptionPane.showMessageDialog(rootPane, "bnp3v"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA3.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA3.getText()));
//                    JOptionPane.showMessageDialog(rootPane, "bnp3f"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA3.getText());
                }
            }
            if(bnp.getAnio().equals("4")){    
                int res = new BigDecimal(tfBienNoPersonalA4.getText()).compareTo(bnp.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA4.getText())); 
                    modificacionPresupuesto.setAnioModificado(4);
//                    JOptionPane.showMessageDialog(rootPane, "bnp4v"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA4.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA4.getText()));
//                    JOptionPane.showMessageDialog(rootPane, "bnp4f"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA4.getText());
                }
            }
            if(bnp.getAnio().equals("5")){   
                int res = new BigDecimal(tfBienNoPersonalA5.getText()).compareTo(bnp.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA5.getText()));   
                    modificacionPresupuesto.setAnioModificado(5);
//                    JOptionPane.showMessageDialog(rootPane, "bnp5v"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA5.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBNP(new BigDecimal(tfBienNoPersonalA5.getText()));  
//                    JOptionPane.showMessageDialog(rootPane, "bnp5f"+" bnp "+bnp.getValorA()+"tf"+tfBienNoPersonalA5.getText());
                }
            }
        }
        
        for(BienUso bu: listaBienesUso){
            if(bu.getAnio().equals("1")){  
                int res = new BigDecimal(tfBienUsoA1.getText()).compareTo(bu.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA1.getText()));
                    modificacionPresupuesto.setAnioModificado(1);
//                    JOptionPane.showMessageDialog(rootPane, "bu1v"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA1.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA1.getText())); 
//                    JOptionPane.showMessageDialog(rootPane, "bu1f"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA1.getText());
                }
            }
            if(bu.getAnio().equals("2")){   
                int res = new BigDecimal(tfBienUsoA2.getText()).compareTo(bu.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA2.getText()));     
                    modificacionPresupuesto.setAnioModificado(2);
//                    JOptionPane.showMessageDialog(rootPane, "bu2v"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA2.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA2.getText()));
//                    JOptionPane.showMessageDialog(rootPane, "bu2f"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA2.getText());
                }
            }
            if(bu.getAnio().equals("3")){ 
                int res = new BigDecimal(tfBienUsoA3.getText()).compareTo(bu.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA3.getText())); 
                    modificacionPresupuesto.setAnioModificado(3);
//                    JOptionPane.showMessageDialog(rootPane, "bu3v"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA3.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA3.getText()));
//                    JOptionPane.showMessageDialog(rootPane, "bu3f"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA3.getText());
                }
            }
            if(bu.getAnio().equals("4")){    
                int res = new BigDecimal(tfBienUsoA4.getText()).compareTo(bu.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA4.getText()));  
                    modificacionPresupuesto.setAnioModificado(4);
//                    JOptionPane.showMessageDialog(rootPane, "bu4v"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA4.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA4.getText()));
//                    JOptionPane.showMessageDialog(rootPane, "bu4f"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA4.getText());
                }
            }
            if(bu.getAnio().equals("5")){  
                int res = new BigDecimal(tfBienUsoA5.getText()).compareTo(bu.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA5.getText()));                     
                    modificacionPresupuesto.setAnioModificado(5);
//                    JOptionPane.showMessageDialog(rootPane, "bu5v"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA5.getText());
//                }else{
//                    modificacionPresupuesto.setMontoBU(new BigDecimal(tfBienUsoA5.getText()));
//                    JOptionPane.showMessageDialog(rootPane, "bu5f"+" bnp "+bu.getValorA()+"tf"+tfBienUsoA5.getText());
                }
            }
        }
        
        for(GastoViaje gv: listaGastoViaje){
            if(gv.getAnio().equals("1")){ 
                int res = new BigDecimal(tfGastosViajeA1.getText()).compareTo(gv.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA1.getText())); 
                    modificacionPresupuesto.setAnioModificado(1);
//                    JOptionPane.showMessageDialog(rootPane, "gv1v"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA1.getText());
//                }else{
//                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA1.getText()));
//                    JOptionPane.showMessageDialog(rootPane, "gv1f"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA1.getText());
                }
            }
            if(gv.getAnio().equals("2")){  
                int res = new BigDecimal(tfGastosViajeA2.getText()).compareTo(gv.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA2.getText())); 
                    modificacionPresupuesto.setAnioModificado(2);
//                    JOptionPane.showMessageDialog(rootPane, "gv2v"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA2.getText());
//                }else{
//                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA2.getText()));  
//                    JOptionPane.showMessageDialog(rootPane, "gv2f"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA2.getText());
                }
            }
            if(gv.getAnio().equals("3")){ 
                int res = new BigDecimal(tfGastosViajeA3.getText()).compareTo(gv.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA3.getText())); 
                    modificacionPresupuesto.setAnioModificado(3);
//                    JOptionPane.showMessageDialog(rootPane, "gv3v"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA3.getText());
//                }else{
//                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA3.getText()));  
//                    JOptionPane.showMessageDialog(rootPane, "gv3f"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA3.getText());
                }
            }
            if(gv.getAnio().equals("4")){   
                int res = new BigDecimal(tfGastosViajeA4.getText()).compareTo(gv.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA4.getText()));  
                    modificacionPresupuesto.setAnioModificado(4);
//                    JOptionPane.showMessageDialog(rootPane, "gv4v"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA4.getText());
//                }else{
//                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA4.getText())); 
//                    JOptionPane.showMessageDialog(rootPane, "gv4f"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA4.getText());
                }
            }
            if(gv.getAnio().equals("5")){  
                int res = new BigDecimal(tfGastosViajeA5.getText()).compareTo(gv.getValorA());
                if(res != 0){
                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA5.getText()));
                    modificacionPresupuesto.setAnioModificado(5);
//                    JOptionPane.showMessageDialog(rootPane, "gv5v"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA5.getText());
//                }else{
//                    modificacionPresupuesto.setMontoGV(new BigDecimal(tfGastosViajeA5.getText()));  
//                    JOptionPane.showMessageDialog(rootPane, "gv5f"+" bnp "+gv.getValorA()+"tf"+tfGastosViajeA5.getText());
                }
            }
        }           
       
        if(!tfArchivoModificacionPresupuesto.getText().equals("")){
            archivoModificacion = guardarArchivoAdjunto(tfArchivoModificacionPresupuesto.getText());        
        }else{
            archivoModificacion = null;
        }
        modificacionPresupuesto.setObservacion(taObservacionModificacionPresupuesto.getText());
        modificacionPresupuesto.setArchivoModificacion(archivoModificacion);
        modificacionPresupuesto.setPresupuesto(presupuesto);
        
        facade.ModificacionPresupuestoFacade.getInstance().altaModificacionPresupuesto(modificacionPresupuesto);
        List<ModificacionPresupuesto> listaModificacionPresupuestos = new ArrayList<>();
        listaModificacionPresupuestos.add(modificacionPresupuesto);
        // FIN DEL GUARDADO MODIFICACION        
        
        switch (valor) {
            case 1:
                List<BienUso> listaBU1 = getPresupuestoElegido().getBienUso();
                List<BienNoPersonal> listaBNP1 = getPresupuestoElegido().getBienNoPersonal();
                List<BienConsumo> listaBC1 = getPresupuestoElegido().getBienConsumo();
                List<GastoViaje> listaGV1 = getPresupuestoElegido().getGastosViaje();
                Collections.sort(listaBC1);
                Collections.sort(listaBNP1);
                Collections.sort(listaBU1);
                Collections.sort(listaGV1);
                BienConsumo bienConsumo1 = listaBC1.get(0);
                BienUso bienUso1 = listaBU1.get(0);
                BienNoPersonal bienNoPersonal1 = listaBNP1.get(0);
                GastoViaje gastoViaje1 = listaGV1.get(0);
                
                if(tfBienConsumoP1.getText().equals("")) {
                    bienConsumo1.setValor(new BigDecimal("0"));
                } else {
                    bienConsumo1.setValor(new BigDecimal(tfBienConsumoP1.getText()));
                }
                if(tfBienConsumoA1.getText().equals("")){
                    bienConsumo1.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo1.setValorA(new BigDecimal(tfBienConsumoA1.getText()));
                }                
                bienConsumo1.setAnio("1");
                
                if(tfBienUsoP1.getText().equals("")){
                    bienUso1.setValor(new BigDecimal("0"));
                }else{
                    bienUso1.setValor(new BigDecimal(tfBienUsoP1.getText()));
                }
                if(tfBienUsoA1.getText().equals("")){
                    bienUso1.setValorA(new BigDecimal("0"));
                }else{
                    bienUso1.setValorA(new BigDecimal(tfBienUsoA1.getText()));
                }
                bienUso1.setAnio("1");
                
                if(tfBienNoPersonalP1.getText().equals("")){
                    bienNoPersonal1.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal1.setValor(new BigDecimal(tfBienNoPersonalP1.getText()));
                }
                if(tfBienNoPersonalA1.getText().equals("")){
                    bienNoPersonal1.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal1.setValorA(new BigDecimal(tfBienNoPersonalA1.getText()));
                }
                bienNoPersonal1.setAnio("1");
            
                if(tfGastosViajeP1.getText().equals("")){
                    gastoViaje1.setValor(new BigDecimal("0"));
                }else{
                    gastoViaje1.setValor(new BigDecimal(tfGastosViajeP1.getText()));
                }
                if(tfGastosViajeA1.getText().equals("")){
                    gastoViaje1.setValorA(new BigDecimal("0"));
                }else{
                    gastoViaje1.setValorA(new BigDecimal(tfGastosViajeA1.getText()));
                }
                gastoViaje1.setAnio("1");                 

                ArrayList<BienConsumo> listaBienesConsumo1 = new ArrayList<BienConsumo>();
                ArrayList<BienUso> listaBienesUso1 = new ArrayList<BienUso>();
                ArrayList<BienNoPersonal> listaBienesNoPersonal1 = new ArrayList<BienNoPersonal>();
                ArrayList<GastoViaje> listaGastosViaje1 = new ArrayList<GastoViaje>();

                listaBienesConsumo1.add(bienConsumo1);
                listaBienesUso1.add(bienUso1);
                listaBienesNoPersonal1.add(bienNoPersonal1);
                listaGastosViaje1.add(gastoViaje1);

                presupuesto.setBienConsumo(listaBienesConsumo1);
                presupuesto.setBienUso(listaBienesUso1);
                presupuesto.setBienNoPersonal(listaBienesNoPersonal1);
                presupuesto.setGastosViaje(listaGastosViaje1);
                presupuesto.setModificacionPresupuesto(listaModificacionPresupuestos);
                //presupuesto.setProyecto(getProyecto());

                facade.PresupuestoFacade.getInstance().modificarPresupuesto(presupuesto);
                JOptionPane.showMessageDialog(null, "Datos Guardados");
                break;
            case 2:
                List<BienUso> listaBU11 = getPresupuestoElegido().getBienUso();
                List<BienNoPersonal> listaBNP11 = getPresupuestoElegido().getBienNoPersonal();
                List<BienConsumo> listaBC11 = getPresupuestoElegido().getBienConsumo();
                List<GastoViaje> listaGV11 = getPresupuestoElegido().getGastosViaje();
                Collections.sort(listaBC11);
                Collections.sort(listaBNP11);
                Collections.sort(listaBU11);
                Collections.sort(listaGV11);
                
                BienConsumo bienConsumo11 = listaBC11.get(0);
                BienConsumo bienConsumo22 = listaBC11.get(1);
                BienUso bienUso11 = listaBU11.get(0);
                BienUso bienUso22 = listaBU11.get(1);
                BienNoPersonal bienNoPersonal11 = listaBNP11.get(0);
                BienNoPersonal bienNoPersonal22 = listaBNP11.get(1);
                GastoViaje gastoViaje11 = listaGV11.get(0);
                GastoViaje gastoViaje22 = listaGV11.get(1);
                
                if(tfBienConsumoP1.getText().equals("")) {
                    bienConsumo11.setValor(new BigDecimal("0"));
                } else {
                    bienConsumo11.setValor(new BigDecimal(tfBienConsumoP1.getText()));
                }
                if(tfBienConsumoA1.getText().equals("")){
                    bienConsumo11.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo11.setValorA(new BigDecimal(tfBienConsumoA1.getText()));
                }                
                bienConsumo11.setAnio("1");
                if(tfBienConsumoP2.getText().equals("")){
                    bienConsumo22.setValor(new BigDecimal("0"));
                }else{
                    bienConsumo22.setValor(new BigDecimal(tfBienConsumoP2.getText()));
                }
                if(tfBienConsumoA2.getText().equals("")){
                    bienConsumo22.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo22.setValorA(new BigDecimal(tfBienConsumoA2.getText()));
                }
                bienConsumo22.setAnio("2");
                if(tfBienUsoP1.getText().equals("")){
                    bienUso11.setValor(new BigDecimal("0"));
                }else{
                    bienUso11.setValor(new BigDecimal(tfBienUsoP1.getText()));
                }
                if(tfBienUsoA1.getText().equals("")){
                    bienUso11.setValorA(new BigDecimal("0"));
                }else{
                    bienUso11.setValorA(new BigDecimal(tfBienUsoA1.getText()));
                }
                bienUso11.setAnio("1");
                if(tfBienUsoP2.getText().equals("")){
                    bienUso22.setValor(new BigDecimal("0"));
                }else{
                    bienUso22.setValor(new BigDecimal(tfBienUsoP2.getText()));
                }
                if(tfBienUsoA2.getText().equals("")){
                    bienUso22.setValorA(new BigDecimal("0"));
                }else{
                    bienUso22.setValorA(new BigDecimal(tfBienUsoA2.getText()));
                }
                bienUso22.setAnio("2");
                if(tfBienNoPersonalP1.getText().equals("")){
                    bienNoPersonal11.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal11.setValor(new BigDecimal(tfBienNoPersonalP1.getText()));
                }
                if(tfBienNoPersonalA1.getText().equals("")){
                    bienNoPersonal11.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal11.setValorA(new BigDecimal(tfBienNoPersonalA1.getText()));
                }
                bienNoPersonal11.setAnio("1");
                if(tfBienNoPersonalP2.getText().equals("")){
                    bienNoPersonal22.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal22.setValor(new BigDecimal(tfBienNoPersonalP2.getText()));
                }
                if(tfBienNoPersonalA2.getText().equals("")){
                    bienNoPersonal22.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal22.setValorA(new BigDecimal(tfBienNoPersonalA2.getText()));
                }
                bienNoPersonal22.setAnio("2");
                if(tfGastosViajeP1.getText().equals("")){
                    gastoViaje11.setValor(new BigDecimal("0"));
                }else{
                    gastoViaje11.setValor(new BigDecimal(tfGastosViajeP1.getText()));
                }
                if(tfGastosViajeA1.getText().equals("")){
                    gastoViaje11.setValorA(new BigDecimal("0"));
                }else{
                    gastoViaje11.setValorA(new BigDecimal(tfGastosViajeA1.getText()));
                }
                gastoViaje11.setAnio("1");
                if(tfGastosViajeP2.getText().equals("")){
                    gastoViaje22.setValor(new BigDecimal("0"));
                }else{
                    gastoViaje22.setValor(new BigDecimal(tfGastosViajeP2.getText()));
                }
                if(tfGastosViajeA2.getText().equals("")){
                    gastoViaje22.setValorA(new BigDecimal("0"));
                }else{
                    gastoViaje22.setValorA(new BigDecimal(tfGastosViajeA2.getText()));
                }
                gastoViaje22.setAnio("2");
                
                ArrayList<BienConsumo> listaBienesConsumo11 = new ArrayList<BienConsumo>();
                ArrayList<BienUso> listaBienesUso11 = new ArrayList<BienUso>();
                ArrayList<BienNoPersonal> listaBienesNoPersonal11 = new ArrayList<BienNoPersonal>();
                ArrayList<GastoViaje> listaGastosViaje11 = new ArrayList<GastoViaje>();

                listaBienesConsumo11.add(bienConsumo11);
                listaBienesConsumo11.add(bienConsumo22);
                listaBienesUso11.add(bienUso11);
                listaBienesUso11.add(bienUso22);
                listaBienesNoPersonal11.add(bienNoPersonal11);
                listaBienesNoPersonal11.add(bienNoPersonal22);
                listaGastosViaje11.add(gastoViaje11);
                listaGastosViaje11.add(gastoViaje22);

                presupuesto.setBienConsumo(listaBienesConsumo11);
                presupuesto.setBienUso(listaBienesUso11);
                presupuesto.setBienNoPersonal(listaBienesNoPersonal11);
                presupuesto.setGastosViaje(listaGastosViaje11);
                presupuesto.setModificacionPresupuesto(listaModificacionPresupuestos);
                //presupuesto.setProyecto(getProyecto());

                facade.PresupuestoFacade.getInstance().modificarPresupuesto(presupuesto);
                JOptionPane.showMessageDialog(null, "Datos Guardados");
                break;
            case 3:

                break;
            case 4:
                List<BienUso> listaBU111 = getPresupuestoElegido().getBienUso();
                List<BienNoPersonal> listaBNP111 = getPresupuestoElegido().getBienNoPersonal();
                List<BienConsumo> listaBC111 = getPresupuestoElegido().getBienConsumo();
                List<GastoViaje> listaGV111 = getPresupuestoElegido().getGastosViaje();
                Collections.sort(listaBC111);
                Collections.sort(listaBNP111);
                Collections.sort(listaBU111);
                Collections.sort(listaGV111);
                
                BienConsumo bienConsumo111 = listaBC111.get(0);
                BienConsumo bienConsumo222 = listaBC111.get(1);
                BienConsumo bienConsumo333 = listaBC111.get(2);
                BienConsumo bienConsumo444 = listaBC111.get(3);
                BienUso bienUso111 = listaBU111.get(0);
                BienUso bienUso222 = listaBU111.get(1);                
                BienUso bienUso333 = listaBU111.get(2);
                BienUso bienUso444 = listaBU111.get(3);
                BienNoPersonal bienNoPersonal111 = listaBNP111.get(0);
                BienNoPersonal bienNoPersonal222 = listaBNP111.get(1);
                BienNoPersonal bienNoPersonal333 = listaBNP111.get(2);
                BienNoPersonal bienNoPersonal444 = listaBNP111.get(3);
                GastoViaje gastosViaje111 = listaGV111.get(0);
                GastoViaje gastosViaje222 = listaGV111.get(1);
                GastoViaje gastosViaje333 = listaGV111.get(2);
                GastoViaje gastosViaje444 = listaGV111.get(3);

                if(tfBienConsumoP1.getText().equals("")) {
                    bienConsumo111.setValor(new BigDecimal("0"));
                } else {
                    bienConsumo111.setValor(new BigDecimal(tfBienConsumoP1.getText()));
                }
                if(tfBienConsumoA1.getText().equals("")){
                    bienConsumo111.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo111.setValorA(new BigDecimal(tfBienConsumoA1.getText()));
                }                
                bienConsumo111.setAnio("1");
                if(tfBienConsumoP2.getText().equals("")){
                    bienConsumo222.setValor(new BigDecimal("0"));
                }else{
                    bienConsumo222.setValor(new BigDecimal(tfBienConsumoP2.getText()));
                }
                if(tfBienConsumoA2.getText().equals("")){
                    bienConsumo222.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo222.setValorA(new BigDecimal(tfBienConsumoA2.getText()));
                }
                bienConsumo222.setAnio("2");
                if(tfBienConsumoP3.getText().equals("")){
                    bienConsumo333.setValor(new BigDecimal("0"));
                }else{
                    bienConsumo333.setValor(new BigDecimal(tfBienConsumoP3.getText()));
                }
                if(tfBienConsumoA3.getText().equals("")){
                    bienConsumo333.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo333.setValorA(new BigDecimal(tfBienConsumoA3.getText()));
                }
                bienConsumo333.setAnio("3");
                if(tfBienConsumoP4.getText().equals("")){
                    bienConsumo444.setValor(new BigDecimal("0"));
                }else{
                    bienConsumo444.setValor(new BigDecimal(tfBienConsumoP4.getText()));
                }
                if(tfBienConsumoA4.getText().equals("")){
                    bienConsumo444.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo444.setValorA(new BigDecimal(tfBienConsumoA4.getText()));
                }
                bienConsumo444.setAnio("4");
                if(tfBienUsoP1.getText().equals("")){
                    bienUso111.setValor(new BigDecimal("0"));
                }else{
                    bienUso111.setValor(new BigDecimal(tfBienUsoP1.getText()));
                }
                if(tfBienUsoA1.getText().equals("")){
                    bienUso111.setValorA(new BigDecimal("0"));
                }else{
                    bienUso111.setValorA(new BigDecimal(tfBienUsoA1.getText()));
                }
                bienUso111.setAnio("1");
                if(tfBienUsoP2.getText().equals("")){
                    bienUso222.setValor(new BigDecimal("0"));
                }else{
                    bienUso222.setValor(new BigDecimal(tfBienUsoP2.getText()));
                }
                if(tfBienUsoA2.getText().equals("")){
                    bienUso222.setValorA(new BigDecimal("0"));
                }else{
                    bienUso222.setValorA(new BigDecimal(tfBienUsoA2.getText()));
                }
                bienUso222.setAnio("2");
                if(tfBienUsoP3.getText().equals("")){
                    bienUso333.setValor(new BigDecimal("0"));
                }else{
                    bienUso333.setValor(new BigDecimal(tfBienUsoP3.getText()));
                }
                if(tfBienUsoA3.getText().equals("")){
                    bienUso333.setValorA(new BigDecimal("0"));
                }else{
                    bienUso333.setValorA(new BigDecimal(tfBienUsoA3.getText()));
                }
                bienUso333.setAnio("3");
                if(tfBienUsoP4.getText().equals("")){
                    bienUso444.setValor(new BigDecimal("0"));
                }else{
                    bienUso444.setValor(new BigDecimal(tfBienUsoP4.getText()));
                }
                if(tfBienUsoA4.getText().equals("")){
                    bienUso444.setValorA(new BigDecimal("0"));
                }else{
                    bienUso444.setValorA(new BigDecimal(tfBienUsoA4.getText()));
                }
                bienUso444.setAnio("4");
                if(tfBienNoPersonalP1.getText().equals("")){
                    bienNoPersonal111.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal111.setValor(new BigDecimal(tfBienNoPersonalP1.getText()));
                }
                if(tfBienNoPersonalA1.getText().equals("")){
                    bienNoPersonal111.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal111.setValorA(new BigDecimal(tfBienNoPersonalA1.getText()));
                }
                bienNoPersonal111.setAnio("1");
                if(tfBienNoPersonalP2.getText().equals("")){
                    bienNoPersonal222.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal222.setValor(new BigDecimal(tfBienNoPersonalP2.getText()));
                }
                if(tfBienNoPersonalA2.getText().equals("")){
                    bienNoPersonal222.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal222.setValorA(new BigDecimal(tfBienNoPersonalA2.getText()));
                }
                bienNoPersonal222.setAnio("2");
                if(tfBienNoPersonalP3.getText().equals("")){
                    bienNoPersonal333.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal333.setValor(new BigDecimal(tfBienNoPersonalP3.getText()));
                }
                if(tfBienNoPersonalA3.getText().equals("")){
                    bienNoPersonal333.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal333.setValorA(new BigDecimal(tfBienNoPersonalA3.getText()));
                }
                bienNoPersonal333.setAnio("3");
                if(tfBienNoPersonalP4.getText().equals("")){
                    bienNoPersonal444.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal444.setValor(new BigDecimal(tfBienNoPersonalP4.getText()));
                }
                if(tfBienNoPersonalA4.getText().equals("")){
                    bienNoPersonal444.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal444.setValorA(new BigDecimal(tfBienNoPersonalA4.getText()));
                }
                bienNoPersonal444.setAnio("4");
                if(tfGastosViajeP1.getText().equals("")){
                    gastosViaje111.setValor(new BigDecimal("0"));
                }else{
                    gastosViaje111.setValor(new BigDecimal(tfGastosViajeP1.getText()));
                }
                if(tfGastosViajeA1.getText().equals("")){
                    gastosViaje111.setValorA(new BigDecimal("0"));
                }else{
                    gastosViaje111.setValorA(new BigDecimal(tfGastosViajeA1.getText()));
                }
                gastosViaje111.setAnio("1");
                if(tfGastosViajeP2.getText().equals("")){
                    gastosViaje222.setValor(new BigDecimal("0"));
                }else{
                    gastosViaje222.setValor(new BigDecimal(tfGastosViajeP2.getText()));
                }
                if(tfGastosViajeA2.getText().equals("")){
                    gastosViaje222.setValorA(new BigDecimal("0"));
                }else{
                    gastosViaje222.setValorA(new BigDecimal(tfGastosViajeA2.getText()));
                }
                gastosViaje222.setAnio("2");
                if(tfGastosViajeP3.getText().equals("")){
                    gastosViaje333.setValor(new BigDecimal("0"));
                }else{
                    gastosViaje333.setValor(new BigDecimal(tfGastosViajeP3.getText()));
                }
                if(tfGastosViajeA3.getText().equals("")){
                    gastosViaje333.setValorA(new BigDecimal("0"));
                }else{
                    gastosViaje333.setValorA(new BigDecimal(tfGastosViajeA3.getText()));
                }
                gastosViaje333.setAnio("3");
                if(tfGastosViajeP4.getText().equals("")){
                    gastosViaje444.setValor(new BigDecimal("0"));
                }else{
                    gastosViaje444.setValor(new BigDecimal(tfGastosViajeP4.getText()));
                }
                if(tfGastosViajeA4.getText().equals("")){
                    gastosViaje444.setValorA(new BigDecimal("0"));
                }else{
                    gastosViaje444.setValorA(new BigDecimal(tfGastosViajeA4.getText()));
                }
                gastosViaje444.setAnio("4");                

                ArrayList<BienConsumo> listaBienesConsumo111 = new ArrayList<BienConsumo>();
                ArrayList<BienUso> listaBienesUso111 = new ArrayList<BienUso>();
                ArrayList<BienNoPersonal> listaBienesNoPersonal111 = new ArrayList<BienNoPersonal>();
                ArrayList<GastoViaje> listaGastosViaje111 = new ArrayList<GastoViaje>();

                listaBienesConsumo111.add(bienConsumo111);
                listaBienesConsumo111.add(bienConsumo222);
                listaBienesConsumo111.add(bienConsumo333);
                listaBienesConsumo111.add(bienConsumo444);
                listaBienesUso111.add(bienUso111);
                listaBienesUso111.add(bienUso222);
                listaBienesUso111.add(bienUso333);
                listaBienesUso111.add(bienUso444);
                listaBienesNoPersonal111.add(bienNoPersonal111);
                listaBienesNoPersonal111.add(bienNoPersonal222);
                listaBienesNoPersonal111.add(bienNoPersonal333);
                listaBienesNoPersonal111.add(bienNoPersonal444);
                listaGastosViaje111.add(gastosViaje111);
                listaGastosViaje111.add(gastosViaje222);
                listaGastosViaje111.add(gastosViaje333);
                listaGastosViaje111.add(gastosViaje444);                

                presupuesto.setBienConsumo(listaBienesConsumo111);
                presupuesto.setBienUso(listaBienesUso111);
                presupuesto.setBienNoPersonal(listaBienesNoPersonal111);
                presupuesto.setGastosViaje(listaGastosViaje111);
                presupuesto.setModificacionPresupuesto(listaModificacionPresupuestos);
                //presupuesto.setProyecto(getProyecto());

                facade.PresupuestoFacade.getInstance().modificarPresupuesto(presupuesto);
                JOptionPane.showMessageDialog(null, "Datos Guardados");
                break;
            case 5:
                List<BienUso> listaBU1111 = getPresupuestoElegido().getBienUso();
                List<BienNoPersonal> listaBNP1111 = getPresupuestoElegido().getBienNoPersonal();
                List<BienConsumo> listaBC1111 = getPresupuestoElegido().getBienConsumo();
                List<GastoViaje> listaGV1111 = getPresupuestoElegido().getGastosViaje();
                Collections.sort(listaBC1111);
                Collections.sort(listaBNP1111);
                Collections.sort(listaBU1111);
                Collections.sort(listaGV1111);
                
                BienConsumo bienConsumo1111 = listaBC1111.get(0);
                BienConsumo bienConsumo2222 = listaBC1111.get(1);
                BienConsumo bienConsumo3333 = listaBC1111.get(2);
                BienConsumo bienConsumo4444 = listaBC1111.get(3);
                BienConsumo bienConsumo5555 = listaBC1111.get(4);
                BienUso bienUso1111 = listaBU1111.get(0);
                BienUso bienUso2222 = listaBU1111.get(1);
                BienUso bienUso3333 = listaBU1111.get(2);
                BienUso bienUso4444 = listaBU1111.get(3);
                BienUso bienUso5555 = listaBU1111.get(4);
                BienNoPersonal bienNoPersonal1111 = listaBNP1111.get(0);
                BienNoPersonal bienNoPersonal2222 = listaBNP1111.get(1);
                BienNoPersonal bienNoPersonal3333 = listaBNP1111.get(2);
                BienNoPersonal bienNoPersonal4444 = listaBNP1111.get(3);
                BienNoPersonal bienNoPersonal5555 = listaBNP1111.get(4);
                GastoViaje gastosViaje1111 = listaGV1111.get(0);
                GastoViaje gastosViaje2222 = listaGV1111.get(1);                
                GastoViaje gastosViaje3333 = listaGV1111.get(2);
                GastoViaje gastosViaje4444 = listaGV1111.get(3);
                GastoViaje gastosViaje5555 = listaGV1111.get(4);

                if(tfBienConsumoP1.getText().equals("")) {
                    bienConsumo1111.setValor(new BigDecimal("0"));
                } else {
                    bienConsumo1111.setValor(new BigDecimal(tfBienConsumoP1.getText()));
                }
                if(tfBienConsumoA1.getText().equals("")){
                    bienConsumo1111.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo1111.setValorA(new BigDecimal(tfBienConsumoA1.getText()));
                }                
                bienConsumo1111.setAnio("1");
                if(tfBienConsumoP2.getText().equals("")){
                    bienConsumo2222.setValor(new BigDecimal("0"));
                }else{
                    bienConsumo2222.setValor(new BigDecimal(tfBienConsumoP2.getText()));
                }
                if(tfBienConsumoA2.getText().equals("")){
                    bienConsumo2222.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo2222.setValorA(new BigDecimal(tfBienConsumoA2.getText()));
                }
                bienConsumo2222.setAnio("2");
                if(tfBienConsumoP3.getText().equals("")){
                    bienConsumo3333.setValor(new BigDecimal("0"));
                }else{
                    bienConsumo3333.setValor(new BigDecimal(tfBienConsumoP3.getText()));
                }
                if(tfBienConsumoA3.getText().equals("")){
                    bienConsumo3333.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo3333.setValorA(new BigDecimal(tfBienConsumoA3.getText()));
                }
                bienConsumo3333.setAnio("3");
                if(tfBienConsumoP4.getText().equals("")){
                    bienConsumo4444.setValor(new BigDecimal("0"));
                }else{
                    bienConsumo4444.setValor(new BigDecimal(tfBienConsumoP4.getText()));
                }
                if(tfBienConsumoA4.getText().equals("")){
                    bienConsumo4444.setValorA(new BigDecimal("0"));
                }else{
                    bienConsumo4444.setValorA(new BigDecimal(tfBienConsumoA4.getText()));
                }
                bienConsumo4444.setAnio("4");
                if(tfBienConsumoP5.getText().equals("")){
                    bienConsumo5555.setValor(new BigDecimal("0"));
                }else{
                    bienConsumo5555.setValor(new BigDecimal(tfBienConsumoP5.getText()));
                }
                if(tfBienConsumoA5.getText().equals("")){
                    bienConsumo5555.setValorA(new BigDecimal(""));
                }else{
                    bienConsumo5555.setValorA(new BigDecimal(tfBienConsumoA5.getText()));
                }
                bienConsumo5555.setAnio("5");                          
                if(tfBienUsoP1.getText().equals("")){
                    bienUso1111.setValor(new BigDecimal("0"));
                }else{
                    bienUso1111.setValor(new BigDecimal(tfBienUsoP1.getText()));
                }
                if(tfBienUsoA1.getText().equals("")){
                    bienUso1111.setValorA(new BigDecimal("0"));
                }else{
                    bienUso1111.setValorA(new BigDecimal(tfBienUsoA1.getText()));
                }
                bienUso1111.setAnio("1");
                if(tfBienUsoP2.getText().equals("")){
                    bienUso2222.setValor(new BigDecimal("0"));
                }else{
                    bienUso2222.setValor(new BigDecimal(tfBienUsoP2.getText()));
                }
                if(tfBienUsoA2.getText().equals("")){
                    bienUso2222.setValorA(new BigDecimal("0"));
                }else{
                    bienUso2222.setValorA(new BigDecimal(tfBienUsoA2.getText()));
                }
                bienUso2222.setAnio("2");
                if(tfBienUsoP3.getText().equals("")){
                    bienUso3333.setValor(new BigDecimal("0"));
                }else{
                    bienUso3333.setValor(new BigDecimal(tfBienUsoP3.getText()));
                }
                if(tfBienUsoA3.getText().equals("")){
                    bienUso3333.setValorA(new BigDecimal("0"));
                }else{
                    bienUso3333.setValorA(new BigDecimal(tfBienUsoA3.getText()));
                }
                bienUso3333.setAnio("3");
                if(tfBienUsoP4.getText().equals("")){
                    bienUso4444.setValor(new BigDecimal("0"));
                }else{
                    bienUso4444.setValor(new BigDecimal(tfBienUsoP4.getText()));
                }
                if(tfBienUsoA4.getText().equals("")){
                    bienUso4444.setValorA(new BigDecimal("0"));
                }else{
                    bienUso4444.setValorA(new BigDecimal(tfBienUsoA4.getText()));
                }
                bienUso4444.setAnio("4");
                if(tfBienUsoP5.getText().equals("")){
                    bienUso5555.setValor(new BigDecimal("0"));
                }else{
                    bienUso5555.setValor(new BigDecimal(tfBienUsoP5.getText()));
                }
                if(tfBienUsoA5.getText().equals("")){
                    bienUso5555.setValorA(new BigDecimal("0"));
                }else{
                    bienUso5555.setValorA(new BigDecimal(tfBienUsoA5.getText()));
                }
                bienUso5555.setAnio("5");  
                if(tfBienNoPersonalP1.getText().equals("")){
                    bienNoPersonal1111.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal1111.setValor(new BigDecimal(tfBienNoPersonalP1.getText()));
                }
                if(tfBienNoPersonalA1.getText().equals("")){
                    bienNoPersonal1111.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal1111.setValorA(new BigDecimal(tfBienNoPersonalA1.getText()));
                }
                bienNoPersonal1111.setAnio("1");
                if(tfBienNoPersonalP2.getText().equals("")){
                    bienNoPersonal2222.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal2222.setValor(new BigDecimal(tfBienNoPersonalP2.getText()));
                }
                if(tfBienNoPersonalA2.getText().equals("")){
                    bienNoPersonal2222.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal2222.setValorA(new BigDecimal(tfBienNoPersonalA2.getText()));
                }
                bienNoPersonal2222.setAnio("2");
                if(tfBienNoPersonalP3.getText().equals("")){
                    bienNoPersonal3333.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal3333.setValor(new BigDecimal(tfBienNoPersonalP3.getText()));
                }
                if(tfBienNoPersonalA3.getText().equals("")){
                    bienNoPersonal3333.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal3333.setValorA(new BigDecimal(tfBienNoPersonalA3.getText()));
                }
                bienNoPersonal3333.setAnio("3");
                if(tfBienNoPersonalP4.getText().equals("")){
                    bienNoPersonal4444.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal4444.setValor(new BigDecimal(tfBienNoPersonalP4.getText()));
                }
                if(tfBienNoPersonalA4.getText().equals("")){
                    bienNoPersonal4444.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal4444.setValorA(new BigDecimal(tfBienNoPersonalA4.getText()));
                }
                bienNoPersonal4444.setAnio("4");
                if(tfBienNoPersonalP5.getText().equals("")){
                    bienNoPersonal5555.setValor(new BigDecimal("0"));
                }else{
                    bienNoPersonal5555.setValor(new BigDecimal(tfBienNoPersonalP5.getText()));
                }
                if(tfBienNoPersonalA5.getText().equals("")){
                    bienNoPersonal5555.setValorA(new BigDecimal("0"));
                }else{
                    bienNoPersonal5555.setValorA(new BigDecimal(tfBienNoPersonalA5.getText()));
                }
                bienNoPersonal5555.setAnio("5");      
                if(tfGastosViajeP1.getText().equals("")){
                    gastosViaje1111.setValor(new BigDecimal("0"));
                }else{
                    gastosViaje1111.setValor(new BigDecimal(tfGastosViajeP1.getText()));
                }
                if(tfGastosViajeA1.getText().equals("")){
                    gastosViaje1111.setValorA(new BigDecimal("0"));
                }else{
                    gastosViaje1111.setValorA(new BigDecimal(tfGastosViajeA1.getText()));
                }
                gastosViaje1111.setAnio("1");
                if(tfGastosViajeP2.getText().equals("")){
                    gastosViaje2222.setValor(new BigDecimal("0"));
                }else{
                    gastosViaje2222.setValor(new BigDecimal(tfGastosViajeP2.getText()));
                }
                if(tfGastosViajeA2.getText().equals("")){
                    gastosViaje2222.setValorA(new BigDecimal("0"));
                }else{
                    gastosViaje2222.setValorA(new BigDecimal(tfGastosViajeA2.getText()));
                }
                gastosViaje2222.setAnio("2");
                if(tfGastosViajeP3.getText().equals("")){
                    gastosViaje3333.setValor(new BigDecimal("0"));
                }else{
                    gastosViaje3333.setValor(new BigDecimal(tfGastosViajeP3.getText()));
                }
                if(tfGastosViajeA3.getText().equals("")){
                    gastosViaje3333.setValorA(new BigDecimal("0"));
                }else{
                    gastosViaje3333.setValorA(new BigDecimal(tfGastosViajeA3.getText()));
                }
                gastosViaje3333.setAnio("3");
                if(tfGastosViajeP4.getText().equals("")){
                    gastosViaje4444.setValor(new BigDecimal("0"));
                }else{
                    gastosViaje4444.setValor(new BigDecimal(tfGastosViajeP4.getText()));
                }
                if(tfGastosViajeA4.getText().equals("")){
                    gastosViaje4444.setValorA(new BigDecimal("0"));
                }else{
                    gastosViaje4444.setValorA(new BigDecimal(tfGastosViajeA4.getText()));
                }
                gastosViaje4444.setAnio("4");
                if(tfGastosViajeP5.getText().equals("")){
                    gastosViaje5555.setValor(new BigDecimal("0"));
                }else{
                    gastosViaje5555.setValor(new BigDecimal(tfGastosViajeP5.getText()));
                }
                if(tfGastosViajeA5.getText().equals("")){
                    gastosViaje5555.setValorA(new BigDecimal("0"));
                }else{
                    gastosViaje5555.setValorA(new BigDecimal(tfGastosViajeA5.getText()));
                }
                gastosViaje5555.setAnio("5");
                
                ArrayList<BienConsumo> listaBienesConsumo1111 = new ArrayList<BienConsumo>();
                ArrayList<BienUso> listaBienesUso1111 = new ArrayList<BienUso>();
                ArrayList<BienNoPersonal> listaBienesNoPersonal1111 = new ArrayList<BienNoPersonal>();
                ArrayList<GastoViaje> listaGastosViaje1111 = new ArrayList<GastoViaje>();

                listaBienesConsumo1111.add(bienConsumo1111);
                listaBienesConsumo1111.add(bienConsumo2222);
                listaBienesConsumo1111.add(bienConsumo3333);
                listaBienesConsumo1111.add(bienConsumo4444);
                listaBienesConsumo1111.add(bienConsumo5555);                
                listaBienesUso1111.add(bienUso1111);
                listaBienesUso1111.add(bienUso2222);
                listaBienesUso1111.add(bienUso3333);
                listaBienesUso1111.add(bienUso4444);
                listaBienesUso1111.add(bienUso5555);                
                listaBienesNoPersonal1111.add(bienNoPersonal1111);
                listaBienesNoPersonal1111.add(bienNoPersonal2222);
                listaBienesNoPersonal1111.add(bienNoPersonal3333);
                listaBienesNoPersonal1111.add(bienNoPersonal4444);
                listaBienesNoPersonal1111.add(bienNoPersonal5555);                
                listaGastosViaje1111.add(gastosViaje1111);
                listaGastosViaje1111.add(gastosViaje2222);
                listaGastosViaje1111.add(gastosViaje3333);
                listaGastosViaje1111.add(gastosViaje4444);                
                listaGastosViaje1111.add(gastosViaje5555);        
                
                presupuesto.setBienConsumo(listaBienesConsumo1111);
                presupuesto.setBienUso(listaBienesUso1111);
                presupuesto.setBienNoPersonal(listaBienesNoPersonal1111);
                presupuesto.setGastosViaje(listaGastosViaje1111);
                presupuesto.setModificacionPresupuesto(listaModificacionPresupuestos);
                //presupuesto.setProyecto(getProyecto());

                facade.PresupuestoFacade.getInstance().modificarPresupuesto(presupuesto);
                JOptionPane.showMessageDialog(null, "Datos Guardados");
                break;
        };
        Operacion operacion = new Operacion();
        operacion.setFecha(Comunes.obtenerFechaActualDesdeDB());
        operacion.setOperacion("Modificación de Presupuesto (Economico)");
        operacion.setUsuario(usuario);
        OperacionFacade.getInstance().alta(operacion);   
        
        this.dispose();
    }

    private void deshabilitarEdicionPresupuestado() {
        tfBienConsumoP1.setEnabled(false);
        tfBienConsumoP2.setEnabled(false);
        tfBienConsumoP3.setEnabled(false);
        tfBienConsumoP4.setEnabled(false);
        tfBienConsumoP5.setEnabled(false);
        tfBienNoPersonalP1.setEnabled(false);
        tfBienNoPersonalP2.setEnabled(false);
        tfBienNoPersonalP3.setEnabled(false);
        tfBienNoPersonalP4.setEnabled(false);
        tfBienNoPersonalP5.setEnabled(false);
        tfBienUsoP1.setEnabled(false);
        tfBienUsoP2.setEnabled(false);
        tfBienUsoP3.setEnabled(false);
        tfBienUsoP4.setEnabled(false);
        tfBienUsoP5.setEnabled(false);
        tfGastosViajeP1.setEnabled(false);
        tfGastosViajeP2.setEnabled(false);
        tfGastosViajeP3.setEnabled(false);
        tfGastosViajeP4.setEnabled(false);
        tfGastosViajeP5.setEnabled(false);
    }

    private void agregarArchivoModificacionPresupuesto() {
        JFileChooser fileChooser = new JFileChooser();
        int seleccion = fileChooser.showOpenDialog(null);
        if (seleccion == JFileChooser.APPROVE_OPTION) {
            File fichero = fileChooser.getSelectedFile();            
            tfArchivoModificacionPresupuesto.setText(fichero.getAbsolutePath());
        }        
    }
    
    private Documento guardarArchivoAdjunto(String archivoElegido) {
       try {      
           Documento d = new Documento();
           if(!archivoElegido.equals("")){
            File archivoEntrada = new File(archivoElegido);
            
            d.setNombreArchivo(archivoEntrada.getName());
            InputStream is = new FileInputStream(archivoEntrada); //lo abrimos. Lo importante es que sea un InputStream
            byte[] buffer = new byte[(int) archivoEntrada.length()]; //creamos el buffer
            is.read(buffer); //leemos el archivo al buffer
            d.setContenidoArchivo(buffer);
            new DocumentoJpaController(Persistence.createEntityManagerFactory("ProyectoUnoPU",ConexionFacade.PROPIEDADES)).create(d);             
            //rendicion.setArchivoRendicion(d);                
            return d;
           }else{
               return d;
           }
        } catch (Exception ex) {
            Logger.getLogger(diagAltaPago.class.getName()).log(Level.SEVERE, null, ex);
            return null;
        }       
    }

   
    
}
